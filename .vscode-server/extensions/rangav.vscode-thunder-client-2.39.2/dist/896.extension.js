"use strict";exports.id=896,exports.ids=[896],exports.modules={1313(e,t,s){s.d(t,{GetRoleCredentialsCommand:()=>$,SSOClient:()=>ht});var n=s(137),o=s(138);const r={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var i=s(121),a=s(123);class c extends a.T{constructor(e){super(e),Object.setPrototypeOf(this,c.prototype)}}class p extends c{name="InvalidRequestException";$fault="client";constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,p.prototype)}}class u extends c{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,u.prototype)}}class d extends c{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,d.prototype)}}class l extends c{name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,l.prototype)}}const h="accountId",m="accessToken",g="account_id",y="client",S="error",v="http",f="httpError",P="httpHeader",x="httpQuery",R="message",E="roleName",b="smithy.ts.sdk.synthetic.com.amazonaws.sso",I="x-amz-sso_bearer_token",w="com.amazonaws.sso";var k=[0,w,"AccessTokenType",8,0],A=[0,w,"SecretAccessKeyType",8,0],C=[0,w,"SessionTokenType",8,0],D=[3,w,"GetRoleCredentialsRequest",0,[E,h,m],[[0,{[x]:"role_name"}],[0,{[x]:g}],[()=>k,{[P]:I}]],3],F=[3,w,"GetRoleCredentialsResponse",0,["roleCredentials"],[[()=>U,0]]],O=[-3,w,"InvalidRequestException",{[S]:y,[f]:400},[R],[0]];i.O.for(w).registerError(O,p);var T=[-3,w,"ResourceNotFoundException",{[S]:y,[f]:404},[R],[0]];i.O.for(w).registerError(T,u);var U=[3,w,"RoleCredentials",0,["accessKeyId","secretAccessKey","sessionToken","expiration"],[0,[()=>A,0],[()=>C,0],1]],q=[-3,w,"TooManyRequestsException",{[S]:y,[f]:429},[R],[0]];i.O.for(w).registerError(q,d);var j=[-3,w,"UnauthorizedException",{[S]:y,[f]:401},[R],[0]];i.O.for(w).registerError(j,l);var z=[-3,b,"SSOServiceException",0,[],[]];i.O.for(b).registerError(z,c);var G=[9,w,"GetRoleCredentials",{[v]:["GET","/federation/credentials",200]},()=>D,()=>F];class $ extends(o.u.classBuilder().ep(r).m(function(e,t,s,o){return[(0,n.r)(s,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(G).build()){}var M=s(36),N=s(38),H=s(39),L=s(40),_=s(42),K=s(47),B=s(49),V=s(48),W=s(52),Q=s(53),J=s(55),X=s(56),Y=s(74),Z=s(78),ee=s(81),te=s(83),se=s(50),ne=s(57);const oe=async(e,t,s)=>({operation:(0,se.u)(t).operation,region:await(0,ne.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const re=e=>{const t=[];switch(e.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t},ie="3.985.0";var ae=s(91),ce=s(92),pe=s(94),ue=s(96),de=s(97),le=s(98),he=s(101),me=s(102),ge=s(59),ye=s(103),Se=s(104),ve=s(106),fe=s(105),Pe=s(107),xe=s(109),Re=s(75),Ee=s(110),be=s(1314),Ie=s(1318),we=s(79),ke=s(73),Ae=s(116),Ce=s(117),De=s(87),Fe=s(118),Oe=s(43),Te=s(132),Ue=s(133),qe=s(44);const je="required",ze="fn",Ge="argv",$e="ref",Me=!0,Ne="isSet",He="booleanEquals",Le="error",_e="endpoint",Ke="tree",Be="PartitionResult",Ve="getAttr",We={[je]:!1,type:"string"},Qe={[je]:!0,default:!1,type:"boolean"},Je={[$e]:"Endpoint"},Xe={[ze]:He,[Ge]:[{[$e]:"UseFIPS"},!0]},Ye={[ze]:He,[Ge]:[{[$e]:"UseDualStack"},!0]},Ze={},et={[ze]:Ve,[Ge]:[{[$e]:Be},"supportsFIPS"]},tt={[$e]:Be},st={[ze]:He,[Ge]:[!0,{[ze]:Ve,[Ge]:[tt,"supportsDualStack"]}]},nt=[Xe],ot=[Ye],rt=[{[$e]:"Region"}],it={version:"1.0",parameters:{Region:We,UseDualStack:Qe,UseFIPS:Qe,Endpoint:We},rules:[{conditions:[{[ze]:Ne,[Ge]:[Je]}],rules:[{conditions:nt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Le},{conditions:ot,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Le},{endpoint:{url:Je,properties:Ze,headers:Ze},type:_e}],type:Ke},{conditions:[{[ze]:Ne,[Ge]:rt}],rules:[{conditions:[{[ze]:"aws.partition",[Ge]:rt,assign:Be}],rules:[{conditions:[Xe,Ye],rules:[{conditions:[{[ze]:He,[Ge]:[Me,et]},st],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ze,headers:Ze},type:_e}],type:Ke},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Le}],type:Ke},{conditions:nt,rules:[{conditions:[{[ze]:He,[Ge]:[et,Me]}],rules:[{conditions:[{[ze]:"stringEquals",[Ge]:[{[ze]:Ve,[Ge]:[tt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Ze,headers:Ze},type:_e},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ze,headers:Ze},type:_e}],type:Ke},{error:"FIPS is enabled but this partition does not support FIPS",type:Le}],type:Ke},{conditions:ot,rules:[{conditions:[st],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ze,headers:Ze},type:_e}],type:Ke},{error:"DualStack is enabled but this partition does not support DualStack",type:Le}],type:Ke},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ze,headers:Ze},type:_e}],type:Ke}],type:Ke},{error:"Invalid Configuration: Missing Region",type:Le}]},at=new Te.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ct=(e,t={})=>at.get(e,()=>(0,Ue.s)(it,{endpointParams:e,logger:t.logger}));qe.m.aws=Oe.UF;const pt=e=>{(0,ve.I)(process.version);const t=(0,xe.I)(e),s=()=>t().then(fe.l),n=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Ae.E,base64Encoder:e?.base64Encoder??Ce.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ct,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??re,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ee.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ie.m}],logger:e?.logger??new we.N,protocol:e?.protocol??be.Y,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??ke.D,utf8Decoder:e?.utf8Decoder??De.a,utf8Encoder:e?.utf8Encoder??Fe.P}))(e);(0,ae.I)(process.version);const o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ge.Z)(ce.$,o),bodyLengthChecker:e?.bodyLengthChecker??Pe.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,pe.pf)({serviceId:n.serviceId,clientVersion:ie}),maxAttempts:e?.maxAttempts??(0,ge.Z)(Y.qs,e),region:e?.region??(0,ge.Z)(de.GG,{...de.zH,...o}),requestHandler:ye.$.create(e?.requestHandler??s),retryMode:e?.retryMode??(0,ge.Z)({...Y.kN,default:async()=>(await s()).retryMode||Re.L0},e),sha256:e?.sha256??me.V.bind(null,"sha256"),streamCollector:e?.streamCollector??Se.k,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ge.Z)(le.e$,o),useFipsEndpoint:e?.useFipsEndpoint??(0,ge.Z)(he.Ko,o),userAgentAppId:e?.userAgentAppId??(0,ge.Z)(ue.hV,o)}};var ut=s(134),dt=s(135),lt=s(136);class ht extends ee.K{config;constructor(...[e]){const t=pt(e||{});super(t),this.initConfig=t;const s=(n=t,Object.assign(n,{useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}));var n;const o=(0,L.D)(s),r=(0,Y.$z)(o),i=(0,K.T)(r),a=(0,M.OV)(i),c=((e,t)=>{const s=Object.assign((0,ut.R)(e),(0,lt.xA)(e),(0,dt.e)(e),(e=>{const t=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(e){const s=t.findIndex(t=>t.schemeId===e.schemeId);-1===s?t.push(e):t.splice(s,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){s=e},httpAuthSchemeProvider:()=>s,setCredentials(e){n=e},credentials:()=>n}})(e));return t.forEach(e=>e.configure(s)),Object.assign(e,(0,ut.$)(s),(0,lt.uv)(s),(0,dt.j)(s),{httpAuthSchemes:(n=s).httpAuthSchemes(),httpAuthSchemeProvider:n.httpAuthSchemeProvider(),credentials:n.credentials()});var n})((e=>{const t=(0,te.h)(e);return Object.assign(t,{authSchemePreference:(0,ne.t)(e.authSchemePreference??[])})})((0,X.C)(a)),e?.extensions||[]);this.config=c,this.middlewareStack.use((0,Q.wq)(this.config)),this.middlewareStack.use((0,_.sM)(this.config)),this.middlewareStack.use((0,Z.ey)(this.config)),this.middlewareStack.use((0,J.vK)(this.config)),this.middlewareStack.use((0,M.TC)(this.config)),this.middlewareStack.use((0,N.Y7)(this.config)),this.middlewareStack.use((0,H.n)(this.config)),this.middlewareStack.use((0,B.w)(this.config,{httpAuthSchemeParametersProvider:oe,identityProviderConfigProvider:async e=>new V.h({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,W.l)(this.config))}destroy(){super.destroy()}}}};