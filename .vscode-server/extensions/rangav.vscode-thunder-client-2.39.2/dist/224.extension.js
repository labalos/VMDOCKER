"use strict";exports.id=224,exports.ids=[224],exports.modules={1319(e,t,n){n.d(t,{CreateTokenCommand:()=>Pt,SSOOIDCClient:()=>Te});var r=n(36),i=n(38),s=n(39),o=n(40),a=n(42),c=n(47),p=n(49),d=n(48),u=n(52),l=n(53),h=n(55),m=n(56),v=n(74),S=n(78),x=n(81),f=n(83),g=n(50),E=n(57);const y=async(e,t,n)=>({operation:(0,g.u)(t).operation,region:await(0,E.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const I=e=>{const t=[];if("CreateToken"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e));return t},P={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var b=n(1320),k=n(91),C=n(92),O=n(94),D=n(96),w=n(97),A=n(98),T=n(101),$=n(102),R=n(59),j=n(103),U=n(104),F=n(106),_=n(105),z=n(107),q=n(109),G=n(75),H=n(110),V=n(1314),M=n(1318),N=n(79),W=n(73),L=n(116),B=n(117),J=n(87),K=n(118),Q=n(43),X=n(132),Y=n(133),Z=n(44);const ee="required",te="fn",ne="argv",re="ref",ie=!0,se="isSet",oe="booleanEquals",ae="error",ce="endpoint",pe="tree",de="PartitionResult",ue="getAttr",le={[ee]:!1,type:"string"},he={[ee]:!0,default:!1,type:"boolean"},me={[re]:"Endpoint"},ve={[te]:oe,[ne]:[{[re]:"UseFIPS"},!0]},Se={[te]:oe,[ne]:[{[re]:"UseDualStack"},!0]},xe={},fe={[te]:ue,[ne]:[{[re]:de},"supportsFIPS"]},ge={[re]:de},Ee={[te]:oe,[ne]:[!0,{[te]:ue,[ne]:[ge,"supportsDualStack"]}]},ye=[ve],Ie=[Se],Pe=[{[re]:"Region"}],be={version:"1.0",parameters:{Region:le,UseDualStack:he,UseFIPS:he,Endpoint:le},rules:[{conditions:[{[te]:se,[ne]:[me]}],rules:[{conditions:ye,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ae},{conditions:Ie,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ae},{endpoint:{url:me,properties:xe,headers:xe},type:ce}],type:pe},{conditions:[{[te]:se,[ne]:Pe}],rules:[{conditions:[{[te]:"aws.partition",[ne]:Pe,assign:de}],rules:[{conditions:[ve,Se],rules:[{conditions:[{[te]:oe,[ne]:[ie,fe]},Ee],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xe,headers:xe},type:ce}],type:pe},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ae}],type:pe},{conditions:ye,rules:[{conditions:[{[te]:oe,[ne]:[fe,ie]}],rules:[{conditions:[{[te]:"stringEquals",[ne]:[{[te]:ue,[ne]:[ge,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:xe,headers:xe},type:ce},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xe,headers:xe},type:ce}],type:pe},{error:"FIPS is enabled but this partition does not support FIPS",type:ae}],type:pe},{conditions:Ie,rules:[{conditions:[Ee],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xe,headers:xe},type:ce}],type:pe},{error:"DualStack is enabled but this partition does not support DualStack",type:ae}],type:pe},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:xe,headers:xe},type:ce}],type:pe}],type:pe},{error:"Invalid Configuration: Missing Region",type:ae}]},ke=new X.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Ce=(e,t={})=>ke.get(e,()=>(0,Y.s)(be,{endpointParams:e,logger:t.logger}));Z.m.aws=Q.UF;const Oe=e=>{(0,F.I)(process.version);const t=(0,q.I)(e),n=()=>t().then(_.l),r=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??L.E,base64Encoder:e?.base64Encoder??B.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Ce,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??I,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new H.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new M.m}],logger:e?.logger??new N.N,protocol:e?.protocol??V.Y,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??W.D,utf8Decoder:e?.utf8Decoder??J.a,utf8Encoder:e?.utf8Encoder??K.P}))(e);(0,k.I)(process.version);const i={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,R.Z)(C.$,i),bodyLengthChecker:e?.bodyLengthChecker??z.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,O.pf)({serviceId:r.serviceId,clientVersion:b.rE}),maxAttempts:e?.maxAttempts??(0,R.Z)(v.qs,e),region:e?.region??(0,R.Z)(w.GG,{...w.zH,...i}),requestHandler:j.$.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,R.Z)({...v.kN,default:async()=>(await n()).retryMode||G.L0},e),sha256:e?.sha256??$.V.bind(null,"sha256"),streamCollector:e?.streamCollector??U.k,useDualstackEndpoint:e?.useDualstackEndpoint??(0,R.Z)(A.e$,i),useFipsEndpoint:e?.useFipsEndpoint??(0,R.Z)(T.Ko,i),userAgentAppId:e?.userAgentAppId??(0,R.Z)(D.hV,i)}};var De=n(134),we=n(135),Ae=n(136);class Te extends x.K{config;constructor(...[e]){const t=Oe(e||{});super(t),this.initConfig=t;const n=(x=t,Object.assign(x,{useDualstackEndpoint:x.useDualstackEndpoint??!1,useFipsEndpoint:x.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}));var x;const g=(0,o.D)(n),I=(0,v.$z)(g),P=(0,c.T)(I),b=(0,r.OV)(P),k=((e,t)=>{const n=Object.assign((0,De.R)(e),(0,Ae.xA)(e),(0,we.e)(e),(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}})(e));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,De.$)(n),(0,Ae.uv)(n),(0,we.j)(n),{httpAuthSchemes:(r=n).httpAuthSchemes(),httpAuthSchemeProvider:r.httpAuthSchemeProvider(),credentials:r.credentials()});var r})((e=>{const t=(0,f.h)(e);return Object.assign(t,{authSchemePreference:(0,E.t)(e.authSchemePreference??[])})})((0,m.C)(b)),e?.extensions||[]);this.config=k,this.middlewareStack.use((0,l.wq)(this.config)),this.middlewareStack.use((0,a.sM)(this.config)),this.middlewareStack.use((0,S.ey)(this.config)),this.middlewareStack.use((0,h.vK)(this.config)),this.middlewareStack.use((0,r.TC)(this.config)),this.middlewareStack.use((0,i.Y7)(this.config)),this.middlewareStack.use((0,s.n)(this.config)),this.middlewareStack.use((0,p.w)(this.config,{httpAuthSchemeParametersProvider:y,identityProviderConfigProvider:async e=>new d.h({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,u.l)(this.config))}destroy(){super.destroy()}}var $e=n(137),Re=n(138),je=n(121),Ue=n(123);class Fe extends Ue.T{constructor(e){super(e),Object.setPrototypeOf(this,Fe.prototype)}}class _e extends Fe{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,_e.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}}class ze extends Fe{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,ze.prototype),this.error=e.error,this.error_description=e.error_description}}class qe extends Fe{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,qe.prototype),this.error=e.error,this.error_description=e.error_description}}class Ge extends Fe{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,Ge.prototype),this.error=e.error,this.error_description=e.error_description}}class He extends Fe{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,He.prototype),this.error=e.error,this.error_description=e.error_description}}class Ve extends Fe{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,Ve.prototype),this.error=e.error,this.error_description=e.error_description}}class Me extends Fe{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,Me.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}}class Ne extends Fe{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,Ne.prototype),this.error=e.error,this.error_description=e.error_description}}class We extends Fe{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,We.prototype),this.error=e.error,this.error_description=e.error_description}}class Le extends Fe{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,Le.prototype),this.error=e.error,this.error_description=e.error_description}}class Be extends Fe{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,Be.prototype),this.error=e.error,this.error_description=e.error_description}}const Je="client",Ke="error",Qe="error_description",Xe="http",Ye="httpError",Ze="reason",et="refreshToken",tt="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",nt="com.amazonaws.ssooidc";var rt=[0,nt,"AccessToken",8,0],it=[0,nt,"ClientSecret",8,0],st=[0,nt,"CodeVerifier",8,0],ot=[0,nt,"IdToken",8,0],at=[0,nt,"RefreshToken",8,0],ct=[-3,nt,"AccessDeniedException",{[Ke]:Je,[Ye]:400},[Ke,Ze,Qe],[0,0,0]];je.O.for(nt).registerError(ct,_e);var pt=[-3,nt,"AuthorizationPendingException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(pt,ze);var dt=[3,nt,"CreateTokenRequest",0,["clientId","clientSecret","grantType","deviceCode","code",et,"scope","redirectUri","codeVerifier"],[0,[()=>it,0],0,0,0,[()=>at,0],64,0,[()=>st,0]],3],ut=[3,nt,"CreateTokenResponse",0,["accessToken","tokenType","expiresIn",et,"idToken"],[[()=>rt,0],0,1,[()=>at,0],[()=>ot,0]]],lt=[-3,nt,"ExpiredTokenException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(lt,qe);var ht=[-3,nt,"InternalServerException",{[Ke]:"server",[Ye]:500},[Ke,Qe],[0,0]];je.O.for(nt).registerError(ht,Ge);var mt=[-3,nt,"InvalidClientException",{[Ke]:Je,[Ye]:401},[Ke,Qe],[0,0]];je.O.for(nt).registerError(mt,He);var vt=[-3,nt,"InvalidGrantException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(vt,Ve);var St=[-3,nt,"InvalidRequestException",{[Ke]:Je,[Ye]:400},[Ke,Ze,Qe],[0,0,0]];je.O.for(nt).registerError(St,Me);var xt=[-3,nt,"InvalidScopeException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(xt,Ne);var ft=[-3,nt,"SlowDownException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(ft,We);var gt=[-3,nt,"UnauthorizedClientException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(gt,Le);var Et=[-3,nt,"UnsupportedGrantTypeException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(Et,Be);var yt=[-3,tt,"SSOOIDCServiceException",0,[],[]];je.O.for(tt).registerError(yt,Fe);var It=[9,nt,"CreateToken",{[Xe]:["POST","/token",200]},()=>dt,()=>ut];class Pt extends(Re.u.classBuilder().ep(P).m(function(e,t,n,r){return[(0,$e.r)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(It).build()){}},1320(e){e.exports={rE:"3.985.0"}}};