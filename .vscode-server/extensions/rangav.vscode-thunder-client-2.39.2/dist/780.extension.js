"use strict";exports.id=780,exports.ids=[780],exports.modules={1323(e,t,n){n.d(t,{CreateOAuth2TokenCommand:()=>ft,SigninClient:()=>De});var s=n(36),r=n(38),i=n(39),o=n(40),a=n(42),c=n(47),p=n(49),u=n(48),d=n(52),h=n(53),l=n(55),g=n(56),m=n(74),y=n(78),S=n(81),v=n(83),f=n(50),P=n(57);const k=async(e,t,n)=>({operation:(0,f.u)(t).operation,region:await(0,P.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const A=e=>{const t=[];if("CreateOAuth2Token"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e));return t},x={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var E=n(1320),I=n(91),b=n(92),R=n(94),w=n(96),T=n(97),C=n(98),D=n(101),O=n(102),F=n(59),U=n(103),j=n(104),q=n(106),$=n(105),z=n(107),M=n(109),V=n(75),H=n(110),N=n(1314),B=n(1318),K=n(79),L=n(73),G=n(116),J=n(117),Q=n(87),W=n(118),X=n(43),Y=n(132),Z=n(133),_=n(44);const ee="required",te="fn",ne="argv",se="ref",re=!0,ie="isSet",oe="booleanEquals",ae="error",ce="endpoint",pe="tree",ue="PartitionResult",de="stringEquals",he={[ee]:!0,default:!1,type:"boolean"},le={[ee]:!1,type:"string"},ge={[se]:"Endpoint"},me={[te]:oe,[ne]:[{[se]:"UseFIPS"},!0]},ye={[te]:oe,[ne]:[{[se]:"UseDualStack"},!0]},Se={},ve={[te]:"getAttr",[ne]:[{[se]:ue},"name"]},fe={[te]:oe,[ne]:[{[se]:"UseFIPS"},!1]},Pe={[te]:oe,[ne]:[{[se]:"UseDualStack"},!1]},ke={[te]:"getAttr",[ne]:[{[se]:ue},"supportsFIPS"]},Ae={[te]:oe,[ne]:[!0,{[te]:"getAttr",[ne]:[{[se]:ue},"supportsDualStack"]}]},xe=[{[se]:"Region"}],Ee={version:"1.0",parameters:{UseDualStack:he,UseFIPS:he,Endpoint:le,Region:le},rules:[{conditions:[{[te]:ie,[ne]:[ge]}],rules:[{conditions:[me],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ae},{rules:[{conditions:[ye],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ae},{endpoint:{url:ge,properties:Se,headers:Se},type:ce}],type:pe}],type:pe},{rules:[{conditions:[{[te]:ie,[ne]:xe}],rules:[{conditions:[{[te]:"aws.partition",[ne]:xe,assign:ue}],rules:[{conditions:[{[te]:de,[ne]:[ve,"aws"]},fe,Pe],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:Se,headers:Se},type:ce},{conditions:[{[te]:de,[ne]:[ve,"aws-cn"]},fe,Pe],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:Se,headers:Se},type:ce},{conditions:[{[te]:de,[ne]:[ve,"aws-us-gov"]},fe,Pe],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:Se,headers:Se},type:ce},{conditions:[me,ye],rules:[{conditions:[{[te]:oe,[ne]:[re,ke]},Ae],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Se,headers:Se},type:ce}],type:pe},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ae}],type:pe},{conditions:[me,Pe],rules:[{conditions:[{[te]:oe,[ne]:[ke,re]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Se,headers:Se},type:ce}],type:pe},{error:"FIPS is enabled but this partition does not support FIPS",type:ae}],type:pe},{conditions:[fe,ye],rules:[{conditions:[Ae],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Se,headers:Se},type:ce}],type:pe},{error:"DualStack is enabled but this partition does not support DualStack",type:ae}],type:pe},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:Se,headers:Se},type:ce}],type:pe}],type:pe},{error:"Invalid Configuration: Missing Region",type:ae}],type:pe}]},Ie=new Y.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),be=(e,t={})=>Ie.get(e,()=>(0,Z.s)(Ee,{endpointParams:e,logger:t.logger}));_.m.aws=X.UF;const Re=e=>{(0,q.I)(process.version);const t=(0,M.I)(e),n=()=>t().then($.l),s=(e=>({apiVersion:"2023-01-01",base64Decoder:e?.base64Decoder??G.E,base64Encoder:e?.base64Encoder??J.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??be,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??A,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new H.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new B.m}],logger:e?.logger??new K.N,protocol:e?.protocol??N.Y,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:e?.serviceId??"Signin",urlParser:e?.urlParser??L.D,utf8Decoder:e?.utf8Decoder??Q.a,utf8Encoder:e?.utf8Encoder??W.P}))(e);(0,I.I)(process.version);const r={profile:e?.profile,logger:s.logger};return{...s,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,F.Z)(b.$,r),bodyLengthChecker:e?.bodyLengthChecker??z.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,R.pf)({serviceId:s.serviceId,clientVersion:E.rE}),maxAttempts:e?.maxAttempts??(0,F.Z)(m.qs,e),region:e?.region??(0,F.Z)(T.GG,{...T.zH,...r}),requestHandler:U.$.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,F.Z)({...m.kN,default:async()=>(await n()).retryMode||V.L0},e),sha256:e?.sha256??O.V.bind(null,"sha256"),streamCollector:e?.streamCollector??j.k,useDualstackEndpoint:e?.useDualstackEndpoint??(0,F.Z)(C.e$,r),useFipsEndpoint:e?.useFipsEndpoint??(0,F.Z)(D.Ko,r),userAgentAppId:e?.userAgentAppId??(0,F.Z)(w.hV,r)}};var we=n(134),Te=n(135),Ce=n(136);class De extends S.K{config;constructor(...[e]){const t=Re(e||{});super(t),this.initConfig=t;const n=(S=t,Object.assign(S,{useDualstackEndpoint:S.useDualstackEndpoint??!1,useFipsEndpoint:S.useFipsEndpoint??!1,defaultSigningName:"signin"}));var S;const f=(0,o.D)(n),A=(0,m.$z)(f),x=(0,c.T)(A),E=(0,s.OV)(x),I=((e,t)=>{const n=Object.assign((0,we.R)(e),(0,Ce.xA)(e),(0,Te.e)(e),(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){s=e},credentials:()=>s}})(e));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,we.$)(n),(0,Ce.uv)(n),(0,Te.j)(n),{httpAuthSchemes:(s=n).httpAuthSchemes(),httpAuthSchemeProvider:s.httpAuthSchemeProvider(),credentials:s.credentials()});var s})((e=>{const t=(0,v.h)(e);return Object.assign(t,{authSchemePreference:(0,P.t)(e.authSchemePreference??[])})})((0,g.C)(E)),e?.extensions||[]);this.config=I,this.middlewareStack.use((0,h.wq)(this.config)),this.middlewareStack.use((0,a.sM)(this.config)),this.middlewareStack.use((0,y.ey)(this.config)),this.middlewareStack.use((0,l.vK)(this.config)),this.middlewareStack.use((0,s.TC)(this.config)),this.middlewareStack.use((0,r.Y7)(this.config)),this.middlewareStack.use((0,i.n)(this.config)),this.middlewareStack.use((0,p.w)(this.config,{httpAuthSchemeParametersProvider:k,identityProviderConfigProvider:async e=>new u.h({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,d.l)(this.config))}destroy(){super.destroy()}}var Oe=n(137),Fe=n(138),Ue=n(121),je=n(123);class qe extends je.T{constructor(e){super(e),Object.setPrototypeOf(this,qe.prototype)}}class $e extends qe{name="AccessDeniedException";$fault="client";error;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,$e.prototype),this.error=e.error}}class ze extends qe{name="InternalServerException";$fault="server";error;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,ze.prototype),this.error=e.error}}class Me extends qe{name="TooManyRequestsError";$fault="client";error;constructor(e){super({name:"TooManyRequestsError",$fault:"client",...e}),Object.setPrototypeOf(this,Me.prototype),this.error=e.error}}class Ve extends qe{name="ValidationException";$fault="client";error;constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,Ve.prototype),this.error=e.error}}const He="accessKeyId",Ne="accessToken",Be="client",Ke="clientId",Le="codeVerifier",Ge="error",Je="expiresIn",Qe="grantType",We="http",Xe="httpError",Ye="idToken",Ze="jsonName",_e="message",et="refreshToken",tt="redirectUri",nt="secretAccessKey",st="sessionToken",rt="smithy.ts.sdk.synthetic.com.amazonaws.signin",it="tokenType",ot="com.amazonaws.signin";var at=[0,ot,"RefreshToken",8,0],ct=[-3,ot,"AccessDeniedException",{[Ge]:Be},[Ge,_e],[0,0],2];Ue.O.for(ot).registerError(ct,$e);var pt=[3,ot,"AccessToken",8,[He,nt,st],[[0,{[Ze]:He}],[0,{[Ze]:nt}],[0,{[Ze]:st}]],3],ut=[3,ot,"CreateOAuth2TokenRequest",0,["tokenInput"],[[()=>dt,16]],1],dt=[3,ot,"CreateOAuth2TokenRequestBody",0,[Ke,Qe,"code",tt,Le,et],[[0,{[Ze]:Ke}],[0,{[Ze]:Qe}],0,[0,{[Ze]:tt}],[0,{[Ze]:Le}],[()=>at,{[Ze]:et}]],2],ht=[3,ot,"CreateOAuth2TokenResponse",0,["tokenOutput"],[[()=>lt,16]],1],lt=[3,ot,"CreateOAuth2TokenResponseBody",0,[Ne,it,Je,et,Ye],[[()=>pt,{[Ze]:Ne}],[0,{[Ze]:it}],[1,{[Ze]:Je}],[()=>at,{[Ze]:et}],[0,{[Ze]:Ye}]],4],gt=[-3,ot,"InternalServerException",{[Ge]:"server",[Xe]:500},[Ge,_e],[0,0],2];Ue.O.for(ot).registerError(gt,ze);var mt=[-3,ot,"TooManyRequestsError",{[Ge]:Be,[Xe]:429},[Ge,_e],[0,0],2];Ue.O.for(ot).registerError(mt,Me);var yt=[-3,ot,"ValidationException",{[Ge]:Be,[Xe]:400},[Ge,_e],[0,0],2];Ue.O.for(ot).registerError(yt,Ve);var St=[-3,rt,"SigninServiceException",0,[],[]];Ue.O.for(rt).registerError(St,qe);var vt=[9,ot,"CreateOAuth2Token",{[We]:["POST","/v1/token",200]},()=>ut,()=>ht];class ft extends(Fe.u.classBuilder().ep(x).m(function(e,t,n,s){return[(0,Oe.r)(n,e.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(vt).build()){}},1320(e){e.exports={rE:"3.985.0"}}};