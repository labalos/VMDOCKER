"use strict";exports.id=365,exports.ids=[365],exports.modules={1312(e,t,s){s.d(t,{GetRoleCredentialsCommand:()=>W,SSOClient:()=>mt});var i=s(136),o=s(137);const a={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var n=s(119),r=s(122);class c extends r.T{constructor(e){super(e),Object.setPrototypeOf(this,c.prototype)}}class u extends c{name="InvalidRequestException";$fault="client";constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,u.prototype)}}class p extends c{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,p.prototype)}}class d extends c{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,d.prototype)}}class l extends c{name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,l.prototype)}}const g="accountId",h="accessToken",S="account_id",f="client",m="error",w="http",v="httpError",x="httpHeader",b="httpQuery",P="message",y="roleName",E="smithy.ts.sdk.synthetic.com.amazonaws.sso",R="x-amz-sso_bearer_token",I="com.amazonaws.sso";var k=[0,I,"AccessTokenType",8,0],A=[0,I,"SecretAccessKeyType",8,0],C=[0,I,"SessionTokenType",8,0],D=[3,I,"GetRoleCredentialsRequest",0,[y,g,h],[[0,{[b]:"role_name"}],[0,{[b]:S}],[()=>k,{[x]:R}]],3],O=[3,I,"GetRoleCredentialsResponse",0,["roleCredentials"],[[()=>T,0]]],U=[-3,I,"InvalidRequestException",{[m]:f,[v]:400},[P],[0]];n.O.for(I).registerError(U,u);var F=[-3,I,"ResourceNotFoundException",{[m]:f,[v]:404},[P],[0]];n.O.for(I).registerError(F,p);var T=[3,I,"RoleCredentials",0,["accessKeyId","secretAccessKey","sessionToken","expiration"],[0,[()=>A,0],[()=>C,0],1]],G=[-3,I,"TooManyRequestsException",{[m]:f,[v]:429},[P],[0]];n.O.for(I).registerError(G,d);var $=[-3,I,"UnauthorizedException",{[m]:f,[v]:401},[P],[0]];n.O.for(I).registerError($,l);var z=[-3,E,"SSOServiceException",0,[],[]];n.O.for(E).registerError(z,c);var M=[9,I,"GetRoleCredentials",{[w]:["GET","/federation/credentials",200]},()=>D,()=>O];class W extends(o.u.classBuilder().ep(a).m(function(e,t,s,o){return[(0,i.r)(s,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(M).build()){}var j=s(36),q=s(38),N=s(39),H=s(40),B=s(42),L=s(46),K=s(48),V=s(47),_=s(51),J=s(52),Z=s(54),Q=s(55),X=s(73),Y=s(77),ee=s(80),te=s(82),se=s(49),ie=s(56);const oe=async(e,t,s)=>({operation:(0,se.u)(t).operation,region:await(0,ie.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const ae=e=>{const t=[];switch(e.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t},ne="3.985.0";var re=s(90),ce=s(91),ue=s(93),pe=s(95),de=s(96),le=s(97),ge=s(100),he=s(101),Se=s(58),fe=s(102),me=s(103),we=s(105),ve=s(104),xe=s(106),be=s(108),Pe=s(74),ye=s(109),Ee=s(1313),Re=s(1317),Ie=s(78),ke=s(72),Ae=s(115),Ce=s(116),De=s(86),Oe=s(117),Ue=s(43),Fe=s(44),Te=s(45);const Ge=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!Ge(t))return!1;return!0}return!!(0,Fe.X)(e)&&(!(e.length<3||e.length>63)&&(e===e.toLowerCase()&&!(0,Te.o)(e)))};let $e=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-east-2":{"description":"Asia Pacific (Taipei)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-6":{"description":"Asia Pacific (New Zealand)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"aws global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"aws-cn global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"api.amazonwebservices.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"AWS European Sovereign Cloud (Germany)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"api.aws.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"aws-iso global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"api.aws.scloud","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"aws-iso-b global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"},"us-isob-west-1":{"description":"US ISOB West"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"api.cloud-aws.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"aws-iso-e global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"api.aws.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"aws-iso-f global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"aws-us-gov global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}}],"version":"1.1"}');const ze={isVirtualHostableS3Bucket:Ge,parseArn:e=>{const t=e.split(":");if(t.length<6)return null;const[s,i,o,a,n,...r]=t;if("arn"!==s||""===i||""===o||""===r.join(":"))return null;return{partition:i,service:o,region:a,accountId:n,resourceId:r.map(e=>e.split("/")).flat()}},partition:e=>{const{partitions:t}=$e;for(const s of t){const{regions:t,outputs:i}=s;for(const[s,o]of Object.entries(t))if(s===e)return{...i,...o}}for(const s of t){const{regionRegex:t,outputs:i}=s;if(new RegExp(t).test(e))return{...i}}const s=t.find(e=>"aws"===e.id);if(!s)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...s.outputs}}};Ue.m.aws=ze;var Me=s(131),We=s(132);const je="required",qe="fn",Ne="argv",He="ref",Be=!0,Le="isSet",Ke="booleanEquals",Ve="error",_e="endpoint",Je="tree",Ze="PartitionResult",Qe="getAttr",Xe={[je]:!1,type:"string"},Ye={[je]:!0,default:!1,type:"boolean"},et={[He]:"Endpoint"},tt={[qe]:Ke,[Ne]:[{[He]:"UseFIPS"},!0]},st={[qe]:Ke,[Ne]:[{[He]:"UseDualStack"},!0]},it={},ot={[qe]:Qe,[Ne]:[{[He]:Ze},"supportsFIPS"]},at={[He]:Ze},nt={[qe]:Ke,[Ne]:[!0,{[qe]:Qe,[Ne]:[at,"supportsDualStack"]}]},rt=[tt],ct=[st],ut=[{[He]:"Region"}],pt={version:"1.0",parameters:{Region:Xe,UseDualStack:Ye,UseFIPS:Ye,Endpoint:Xe},rules:[{conditions:[{[qe]:Le,[Ne]:[et]}],rules:[{conditions:rt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ve},{conditions:ct,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ve},{endpoint:{url:et,properties:it,headers:it},type:_e}],type:Je},{conditions:[{[qe]:Le,[Ne]:ut}],rules:[{conditions:[{[qe]:"aws.partition",[Ne]:ut,assign:Ze}],rules:[{conditions:[tt,st],rules:[{conditions:[{[qe]:Ke,[Ne]:[Be,ot]},nt],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:it,headers:it},type:_e}],type:Je},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ve}],type:Je},{conditions:rt,rules:[{conditions:[{[qe]:Ke,[Ne]:[ot,Be]}],rules:[{conditions:[{[qe]:"stringEquals",[Ne]:[{[qe]:Qe,[Ne]:[at,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:it,headers:it},type:_e},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:it,headers:it},type:_e}],type:Je},{error:"FIPS is enabled but this partition does not support FIPS",type:Ve}],type:Je},{conditions:ct,rules:[{conditions:[nt],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:it,headers:it},type:_e}],type:Je},{error:"DualStack is enabled but this partition does not support DualStack",type:Ve}],type:Je},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:it,headers:it},type:_e}],type:Je}],type:Je},{error:"Invalid Configuration: Missing Region",type:Ve}]},dt=new Me.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),lt=(e,t={})=>dt.get(e,()=>(0,We.s)(pt,{endpointParams:e,logger:t.logger}));Ue.m.aws=ze;const gt=e=>{(0,we.I)(process.version);const t=(0,be.I)(e),s=()=>t().then(ve.l),i=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Ae.E,base64Encoder:e?.base64Encoder??Ce.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??lt,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??ae,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new ye.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Re.m}],logger:e?.logger??new Ie.N,protocol:e?.protocol??Ee.Y,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??ke.D,utf8Decoder:e?.utf8Decoder??De.a,utf8Encoder:e?.utf8Encoder??Oe.P}))(e);(0,re.I)(process.version);const o={profile:e?.profile,logger:i.logger};return{...i,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Se.Z)(ce.$,o),bodyLengthChecker:e?.bodyLengthChecker??xe.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ue.pf)({serviceId:i.serviceId,clientVersion:ne}),maxAttempts:e?.maxAttempts??(0,Se.Z)(X.qs,e),region:e?.region??(0,Se.Z)(de.GG,{...de.zH,...o}),requestHandler:fe.$.create(e?.requestHandler??s),retryMode:e?.retryMode??(0,Se.Z)({...X.kN,default:async()=>(await s()).retryMode||Pe.L0},e),sha256:e?.sha256??he.V.bind(null,"sha256"),streamCollector:e?.streamCollector??me.k,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Se.Z)(le.e$,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Se.Z)(ge.Ko,o),userAgentAppId:e?.userAgentAppId??(0,Se.Z)(pe.hV,o)}};var ht=s(133),St=s(134),ft=s(135);class mt extends ee.K{config;constructor(...[e]){const t=gt(e||{});super(t),this.initConfig=t;const s=(i=t,Object.assign(i,{useDualstackEndpoint:i.useDualstackEndpoint??!1,useFipsEndpoint:i.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}));var i;const o=(0,H.D)(s),a=(0,X.$z)(o),n=(0,L.T)(a),r=(0,j.OV)(n),c=((e,t)=>{const s=Object.assign((0,ht.R)(e),(0,ft.xA)(e),(0,St.e)(e),(e=>{const t=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,i=e.credentials;return{setHttpAuthScheme(e){const s=t.findIndex(t=>t.schemeId===e.schemeId);-1===s?t.push(e):t.splice(s,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){s=e},httpAuthSchemeProvider:()=>s,setCredentials(e){i=e},credentials:()=>i}})(e));return t.forEach(e=>e.configure(s)),Object.assign(e,(0,ht.$)(s),(0,ft.uv)(s),(0,St.j)(s),{httpAuthSchemes:(i=s).httpAuthSchemes(),httpAuthSchemeProvider:i.httpAuthSchemeProvider(),credentials:i.credentials()});var i})((e=>{const t=(0,te.h)(e);return Object.assign(t,{authSchemePreference:(0,ie.t)(e.authSchemePreference??[])})})((0,Q.C)(r)),e?.extensions||[]);this.config=c,this.middlewareStack.use((0,J.wq)(this.config)),this.middlewareStack.use((0,B.sM)(this.config)),this.middlewareStack.use((0,Y.ey)(this.config)),this.middlewareStack.use((0,Z.vK)(this.config)),this.middlewareStack.use((0,j.TC)(this.config)),this.middlewareStack.use((0,q.Y7)(this.config)),this.middlewareStack.use((0,N.n)(this.config)),this.middlewareStack.use((0,K.w)(this.config,{httpAuthSchemeParametersProvider:oe,identityProviderConfigProvider:async e=>new V.h({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,_.l)(this.config))}destroy(){super.destroy()}}}};