"use strict";exports.id=827,exports.ids=[827],exports.modules={1321(t,e,i){i.d(e,{getDefaultRoleAssumer:()=>pn,getDefaultRoleAssumerWithWebIdentity:()=>hn});var n=i(83),s=i(96),r=i(58);const o={silence:!1};var a=i(136),c=i(137);const u={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var l=i(119),d=i(122);class f extends d.T{constructor(t){super(t),Object.setPrototypeOf(this,f.prototype)}}class p extends f{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,p.prototype)}}class h extends f{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,h.prototype)}}class g extends f{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,g.prototype)}}class m extends f{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,m.prototype)}}class w extends f{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,w.prototype)}}class S extends f{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,S.prototype)}}class E extends f{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,E.prototype)}}const b="AssumedRoleUser",v="Credentials",x="DurationSeconds",y="Policy",I="PolicyArns",A="PackedPolicySize",P="RoleArn",T="RoleSessionName",$="SourceIdentity",D="awsQueryError",R="client",N="error",k="httpError",C="message",O="smithy.ts.sdk.synthetic.com.amazonaws.sts",F="com.amazonaws.sts";var U=[0,F,"accessKeySecretType",8,0],M=[0,F,"clientTokenType",8,0],j=[3,F,b,0,["AssumedRoleId","Arn"],[0,0],2],_=[3,F,"AssumeRoleRequest",0,[P,T,I,y,x,"Tags","TransitiveTagKeys","ExternalId","SerialNumber","TokenCode",$,"ProvidedContexts"],[0,0,()=>et,0,1,()=>nt,64,0,0,0,0,()=>it],2],W=[3,F,"AssumeRoleResponse",0,[v,b,A,$],[[()=>G,0],()=>j,1,0]],L=[3,F,"AssumeRoleWithWebIdentityRequest",0,[P,T,"WebIdentityToken","ProviderId",I,y,x],[0,0,[()=>M,0],0,()=>et,0,1],3],z=[3,F,"AssumeRoleWithWebIdentityResponse",0,[v,"SubjectFromWebIdentityToken",b,A,"Provider","Audience",$],[[()=>G,0],0,()=>j,1,0,0,0]],G=[3,F,v,0,["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],[0,[()=>U,0],0,4],4],V=[-3,F,"ExpiredTokenException",{[D]:["ExpiredTokenException",400],[N]:R,[k]:400},[C],[0]];l.O.for(F).registerError(V,p);var B=[-3,F,"IDPCommunicationErrorException",{[D]:["IDPCommunicationError",400],[N]:R,[k]:400},[C],[0]];l.O.for(F).registerError(B,E);var q=[-3,F,"IDPRejectedClaimException",{[D]:["IDPRejectedClaim",403],[N]:R,[k]:403},[C],[0]];l.O.for(F).registerError(q,w);var K=[-3,F,"InvalidIdentityTokenException",{[D]:["InvalidIdentityToken",400],[N]:R,[k]:400},[C],[0]];l.O.for(F).registerError(K,S);var Y=[-3,F,"MalformedPolicyDocumentException",{[D]:["MalformedPolicyDocument",400],[N]:R,[k]:400},[C],[0]];l.O.for(F).registerError(Y,h);var H=[-3,F,"PackedPolicyTooLargeException",{[D]:["PackedPolicyTooLarge",400],[N]:R,[k]:400},[C],[0]];l.O.for(F).registerError(H,g);var Q=[3,F,"PolicyDescriptorType",0,["arn"],[0]],J=[3,F,"ProvidedContext",0,["ProviderArn","ContextAssertion"],[0,0]],X=[-3,F,"RegionDisabledException",{[D]:["RegionDisabledException",403],[N]:R,[k]:403},[C],[0]];l.O.for(F).registerError(X,m);var Z=[3,F,"Tag",0,["Key","Value"],[0,0],2],tt=[-3,O,"STSServiceException",0,[],[]];l.O.for(O).registerError(tt,f);var et=[1,F,"policyDescriptorListType",0,()=>Q],it=[1,F,"ProvidedContextsListType",0,()=>J],nt=[1,F,"tagListType",0,()=>Z],st=[9,F,"AssumeRole",0,()=>_,()=>W],rt=[9,F,"AssumeRoleWithWebIdentity",0,()=>L,()=>z];class ot extends(c.u.classBuilder().ep(u).m(function(t,e,i,n){return[(0,a.r)(i,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(st).build()){}class at extends(c.u.classBuilder().ep(u).m(function(t,e,i,n){return[(0,a.r)(i,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(rt).build()){}const ct=t=>{if("string"==typeof t?.Arn){const e=t.Arn.split(":");if(e.length>4&&""!==e[4])return e[4]}},ut=async(t,e,i,n={})=>{const a="function"==typeof t?await t():t,c="function"==typeof e?await e():e;let u="";const l=a??c??(u=await function(t={}){return(0,r.Z)({...s.GG,default:async()=>(o.silence,"us-east-1")},{...s.zH,...t})}(n)());return i?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${a} (credential provider clientConfig)`,`${c} (contextual client)`,`${u} (STS default: AWS_REGION, profile region, or us-east-1)`),l},lt=(t,e)=>{let i,s;return async(r,o)=>{if(s=r,!i){const{logger:n=t?.parentClientConfig?.logger,profile:r=t?.parentClientConfig?.profile,region:o,requestHandler:a=t?.parentClientConfig?.requestHandler,credentialProviderLogger:c,userAgentAppId:u=t?.parentClientConfig?.userAgentAppId}=t,l=await ut(o,t?.parentClientConfig?.region,c,{logger:n,profile:r}),d=!ft(a);i=new e({...t,userAgentAppId:u,profile:r,credentialDefaultProvider:()=>async()=>s,region:l,requestHandler:d?a:void 0,logger:n})}const{Credentials:a,AssumedRoleUser:c}=await i.send(new ot(o));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);const u=ct(c),l={accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,...a.CredentialScope&&{credentialScope:a.CredentialScope},...u&&{accountId:u}};return(0,n.g)(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},dt=(t,e)=>{let i;return async s=>{if(!i){const{logger:n=t?.parentClientConfig?.logger,profile:s=t?.parentClientConfig?.profile,region:r,requestHandler:o=t?.parentClientConfig?.requestHandler,credentialProviderLogger:a,userAgentAppId:c=t?.parentClientConfig?.userAgentAppId}=t,u=await ut(r,t?.parentClientConfig?.region,a,{logger:n,profile:s}),l=!ft(o);i=new e({...t,userAgentAppId:c,profile:s,region:u,requestHandler:l?o:void 0,logger:n})}const{Credentials:r,AssumedRoleUser:o}=await i.send(new at(s));if(!r||!r.AccessKeyId||!r.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${s.RoleArn}`);const a=ct(o),c={accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,sessionToken:r.SessionToken,expiration:r.Expiration,...r.CredentialScope&&{credentialScope:r.CredentialScope},...a&&{accountId:a}};return a&&(0,n.g)(c,"RESOLVED_ACCOUNT_ID","T"),(0,n.g)(c,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),c}},ft=t=>"h2"===t?.metadata?.handlerProtocol;var pt=i(36),ht=i(38),gt=i(39),mt=i(40),wt=i(42),St=i(46),Et=i(48),bt=i(47),vt=i(51),xt=i(52),yt=i(54),It=i(55),At=i(73),Pt=i(77),Tt=i(80),$t=i(82),Dt=i(49),Rt=i(56);const Nt=async(t,e,i)=>({operation:(0,Dt.u)(e).operation,region:await(0,Rt.t)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const kt=t=>{const e=[];if("AssumeRoleWithWebIdentity"===t.operation)e.push({schemeId:"smithy.api#noAuth"});else e.push(function(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(t,e)=>({signingProperties:{config:t,context:e}})}}(t));return e},Ct=t=>{const e=(i=t,Object.assign(i,{stsClientCtor:dn}));var i;const n=(0,$t.h)(e);return Object.assign(n,{authSchemePreference:(0,Rt.t)(t.authSchemePreference??[])})};var Ot=i(1319),Ft=i(90),Ut=i(91),Mt=i(109),jt=i(93),_t=i(95),Wt=i(97),Lt=i(100),zt=i(1317),Gt=i(101),Vt=i(102),Bt=i(103),qt=i(105),Kt=i(104),Yt=i(106),Ht=i(108),Qt=i(74),Jt=i(110),Xt=i(114),Zt=i(112),te=i(111),ee=i(121);const ie={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,i){return t},captureMetaData:!1},ne=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",se=new RegExp("^"+("["+ne+"]["+(ne+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*")+"$");function re(t,e){const i=[];let n=e.exec(t);for(;n;){const s=[];s.startIndex=e.lastIndex-n[0].length;const r=n.length;for(let t=0;t<r;t++)s.push(n[t]);i.push(s),n=e.exec(t)}return i}const oe=function(t){const e=se.exec(t);return!(null==e)};let ae;ae="function"!=typeof Symbol?"@@xmlMetadata":Symbol("XML Node Metadata");class ce{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,e){"__proto__"===t&&(t="#__proto__"),this.child.push({[t]:e})}addChild(t,e){"__proto__"===t.tagname&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),void 0!==e&&(this.child[this.child.length-1][ae]={startIndex:e})}static getMetaDataSymbol(){return ae}}class ue{constructor(t){this.suppressValidationErr=!t}readDocType(t,e){const i={};if("O"!==t[e+3]||"C"!==t[e+4]||"T"!==t[e+5]||"Y"!==t[e+6]||"P"!==t[e+7]||"E"!==t[e+8])throw new Error("Invalid Tag instead of DOCTYPE");{e+=9;let n=1,s=!1,r=!1,o="";for(;e<t.length;e++)if("<"!==t[e]||r)if(">"===t[e]){if(r?"-"===t[e-1]&&"-"===t[e-2]&&(r=!1,n--):n--,0===n)break}else"["===t[e]?s=!0:o+=t[e];else{if(s&&de(t,"!ENTITY",e)){let n,s;e+=7,[n,s,e]=this.readEntityExp(t,e+1,this.suppressValidationErr),-1===s.indexOf("&")&&(i[n]={regx:RegExp(`&${n};`,"g"),val:s})}else if(s&&de(t,"!ELEMENT",e)){e+=8;const{index:i}=this.readElementExp(t,e+1);e=i}else if(s&&de(t,"!ATTLIST",e))e+=8;else if(s&&de(t,"!NOTATION",e)){e+=9;const{index:i}=this.readNotationExp(t,e+1,this.suppressValidationErr);e=i}else{if(!de(t,"!--",e))throw new Error("Invalid DOCTYPE");r=!0}n++,o=""}if(0!==n)throw new Error("Unclosed DOCTYPE")}return{entities:i,i:e}}readEntityExp(t,e){e=le(t,e);let i="";for(;e<t.length&&!/\s/.test(t[e])&&'"'!==t[e]&&"'"!==t[e];)i+=t[e],e++;if(fe(i),e=le(t,e),!this.suppressValidationErr){if("SYSTEM"===t.substring(e,e+6).toUpperCase())throw new Error("External entities are not supported");if("%"===t[e])throw new Error("Parameter entities are not supported")}let n="";return[e,n]=this.readIdentifierVal(t,e,"entity"),[i,n,--e]}readNotationExp(t,e){e=le(t,e);let i="";for(;e<t.length&&!/\s/.test(t[e]);)i+=t[e],e++;!this.suppressValidationErr&&fe(i),e=le(t,e);const n=t.substring(e,e+6).toUpperCase();if(!this.suppressValidationErr&&"SYSTEM"!==n&&"PUBLIC"!==n)throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);e+=n.length,e=le(t,e);let s=null,r=null;if("PUBLIC"===n)[e,s]=this.readIdentifierVal(t,e,"publicIdentifier"),'"'!==t[e=le(t,e)]&&"'"!==t[e]||([e,r]=this.readIdentifierVal(t,e,"systemIdentifier"));else if("SYSTEM"===n&&([e,r]=this.readIdentifierVal(t,e,"systemIdentifier"),!this.suppressValidationErr&&!r))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:i,publicIdentifier:s,systemIdentifier:r,index:--e}}readIdentifierVal(t,e,i){let n="";const s=t[e];if('"'!==s&&"'"!==s)throw new Error(`Expected quoted string, found "${s}"`);for(e++;e<t.length&&t[e]!==s;)n+=t[e],e++;if(t[e]!==s)throw new Error(`Unterminated ${i} value`);return[++e,n]}readElementExp(t,e){e=le(t,e);let i="";for(;e<t.length&&!/\s/.test(t[e]);)i+=t[e],e++;if(!this.suppressValidationErr&&!oe(i))throw new Error(`Invalid element name: "${i}"`);let n="";if("E"===t[e=le(t,e)]&&de(t,"MPTY",e))e+=4;else if("A"===t[e]&&de(t,"NY",e))e+=2;else if("("===t[e]){for(e++;e<t.length&&")"!==t[e];)n+=t[e],e++;if(")"!==t[e])throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${t[e]}"`);return{elementName:i,contentModel:n.trim(),index:e}}readAttlistExp(t,e){e=le(t,e);let i="";for(;e<t.length&&!/\s/.test(t[e]);)i+=t[e],e++;fe(i),e=le(t,e);let n="";for(;e<t.length&&!/\s/.test(t[e]);)n+=t[e],e++;if(!fe(n))throw new Error(`Invalid attribute name: "${n}"`);e=le(t,e);let s="";if("NOTATION"===t.substring(e,e+8).toUpperCase()){if(s="NOTATION","("!==t[e=le(t,e+=8)])throw new Error(`Expected '(', found "${t[e]}"`);e++;let i=[];for(;e<t.length&&")"!==t[e];){let n="";for(;e<t.length&&"|"!==t[e]&&")"!==t[e];)n+=t[e],e++;if(n=n.trim(),!fe(n))throw new Error(`Invalid notation name: "${n}"`);i.push(n),"|"===t[e]&&(e++,e=le(t,e))}if(")"!==t[e])throw new Error("Unterminated list of notations");e++,s+=" ("+i.join("|")+")"}else{for(;e<t.length&&!/\s/.test(t[e]);)s+=t[e],e++;const i=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!i.includes(s.toUpperCase()))throw new Error(`Invalid attribute type: "${s}"`)}e=le(t,e);let r="";return"#REQUIRED"===t.substring(e,e+8).toUpperCase()?(r="#REQUIRED",e+=8):"#IMPLIED"===t.substring(e,e+7).toUpperCase()?(r="#IMPLIED",e+=7):[e,r]=this.readIdentifierVal(t,e,"ATTLIST"),{elementName:i,attributeName:n,attributeType:s,defaultValue:r,index:e}}}const le=(t,e)=>{for(;e<t.length&&/\s/.test(t[e]);)e++;return e};function de(t,e,i){for(let n=0;n<e.length;n++)if(e[n]!==t[i+n+1])return!1;return!0}function fe(t){if(oe(t))return t;throw new Error(`Invalid entity name ${t}`)}const pe=/^[-+]?0x[a-fA-F0-9]+$/,he=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,ge={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function me(t,e={}){if(e=Object.assign({},ge,e),!t||"string"!=typeof t)return t;let i=t.trim();if(void 0!==e.skipLike&&e.skipLike.test(i))return t;if("0"===t)return 0;if(e.hex&&pe.test(i))return function(t,e){if(parseInt)return parseInt(t,e);if(Number.parseInt)return Number.parseInt(t,e);if(window&&window.parseInt)return window.parseInt(t,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(i,16);if(i.includes("e")||i.includes("E"))return function(t,e,i){if(!i.eNotation)return t;const n=e.match(we);if(n){let s=n[1]||"";const r=-1===n[3].indexOf("e")?"E":"e",o=n[2],a=s?t[o.length+1]===r:t[o.length]===r;return o.length>1&&a?t:1!==o.length||!n[3].startsWith(`.${r}`)&&n[3][0]!==r?i.leadingZeros&&!a?(e=(n[1]||"")+n[3],Number(e)):t:Number(e)}return t}(t,i,e);{const n=he.exec(i);if(n){const s=n[1]||"",r=n[2];let o=function(t){if(t&&-1!==t.indexOf("."))return"."===(t=t.replace(/0+$/,""))?t="0":"."===t[0]?t="0"+t:"."===t[t.length-1]&&(t=t.substring(0,t.length-1)),t;return t}(n[3]);const a=s?"."===t[r.length+1]:"."===t[r.length];if(!e.leadingZeros&&(r.length>1||1===r.length&&!a))return t;{const n=Number(i),a=String(n);if(0===n)return n;if(-1!==a.search(/[eE]/))return e.eNotation?n:t;if(-1!==i.indexOf("."))return"0"===a||a===o||a===`${s}${o}`?n:t;let c=r?o:i;return r?c===a||s+c===a?n:t:c===a||c===s+a?n:t}}return t}}const we=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;class Se{constructor(t){var e;if(this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(t,e)=>Ce(e,10,"&#")},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(t,e)=>Ce(e,16,"&#x")}},this.addExternalEntities=Ee,this.parseXml=Ie,this.parseTextData=be,this.resolveNameSpace=ve,this.buildAttributesMap=ye,this.isItStopNode=$e,this.replaceEntitiesValue=Pe,this.readStopNodeData=Ne,this.saveTextToParentTag=Te,this.addChild=Ae,this.ignoreAttributesFn="function"==typeof(e=this.options.ignoreAttributes)?e:Array.isArray(e)?t=>{for(const i of e){if("string"==typeof i&&t===i)return!0;if(i instanceof RegExp&&i.test(t))return!0}}:()=>!1,this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let t=0;t<this.options.stopNodes.length;t++){const e=this.options.stopNodes[t];"string"==typeof e&&(e.startsWith("*.")?this.stopNodesWildcard.add(e.substring(2)):this.stopNodesExact.add(e))}}}}function Ee(t){const e=Object.keys(t);for(let i=0;i<e.length;i++){const n=e[i];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function be(t,e,i,n,s,r,o){if(void 0!==t&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));const n=this.options.tagValueProcessor(e,t,i,s,r);if(null==n)return t;if(typeof n!=typeof t||n!==t)return n;if(this.options.trimValues)return ke(t,this.options.parseTagValue,this.options.numberParseOptions);return t.trim()===t?ke(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function ve(t){if(this.options.removeNSPrefix){const e=t.split(":"),i="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=i+e[1])}return t}const xe=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function ye(t,e){if(!0!==this.options.ignoreAttributes&&"string"==typeof t){const i=re(t,xe),n=i.length,s={};for(let t=0;t<n;t++){const n=this.resolveNameSpace(i[t][1]);if(this.ignoreAttributesFn(n,e))continue;let r=i[t][4],o=this.options.attributeNamePrefix+n;if(n.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),"__proto__"===o&&(o="#__proto__"),void 0!==r){this.options.trimValues&&(r=r.trim()),r=this.replaceEntitiesValue(r);const t=this.options.attributeValueProcessor(n,r,e);s[o]=null==t?r:typeof t!=typeof r||t!==r?t:ke(r,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[o]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const t={};return t[this.options.attributesGroupName]=s,t}return s}}const Ie=function(t){t=t.replace(/\r\n?/g,"\n");const e=new ce("!xml");let i=e,n="",s="";const r=new ue(this.options.processEntities);for(let o=0;o<t.length;o++){if("<"===t[o])if("/"===t[o+1]){const e=De(t,">",o,"Closing Tag is not closed.");let r=t.substring(o+2,e).trim();if(this.options.removeNSPrefix){const t=r.indexOf(":");-1!==t&&(r=r.substr(t+1))}this.options.transformTagName&&(r=this.options.transformTagName(r)),i&&(n=this.saveTextToParentTag(n,i,s));const a=s.substring(s.lastIndexOf(".")+1);if(r&&-1!==this.options.unpairedTags.indexOf(r))throw new Error(`Unpaired tag can not be used as closing tag: </${r}>`);let c=0;a&&-1!==this.options.unpairedTags.indexOf(a)?(c=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=s.lastIndexOf("."),s=s.substring(0,c),i=this.tagsNodeStack.pop(),n="",o=e}else if("?"===t[o+1]){let e=Re(t,o,!1,"?>");if(!e)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,i,s),this.options.ignoreDeclaration&&"?xml"===e.tagName||this.options.ignorePiTags);else{const t=new ce(e.tagName);t.add(this.options.textNodeName,""),e.tagName!==e.tagExp&&e.attrExpPresent&&(t[":@"]=this.buildAttributesMap(e.tagExp,s)),this.addChild(i,t,s,o)}o=e.closeIndex+1}else if("!--"===t.substr(o+1,3)){const e=De(t,"--\x3e",o+4,"Comment is not closed.");if(this.options.commentPropName){const r=t.substring(o+4,e-2);n=this.saveTextToParentTag(n,i,s),i.add(this.options.commentPropName,[{[this.options.textNodeName]:r}])}o=e}else if("!D"===t.substr(o+1,2)){const e=r.readDocType(t,o);this.docTypeEntities=e.entities,o=e.i}else if("!["===t.substr(o+1,2)){const e=De(t,"]]>",o,"CDATA is not closed.")-2,r=t.substring(o+9,e);n=this.saveTextToParentTag(n,i,s);let a=this.parseTextData(r,i.tagname,s,!0,!1,!0,!0);null==a&&(a=""),this.options.cdataPropName?i.add(this.options.cdataPropName,[{[this.options.textNodeName]:r}]):i.add(this.options.textNodeName,a),o=e+2}else{let r=Re(t,o,this.options.removeNSPrefix),a=r.tagName;const c=r.rawTagName;let u=r.tagExp,l=r.attrExpPresent,d=r.closeIndex;if(this.options.transformTagName){const t=this.options.transformTagName(a);u===a&&(u=t),a=t}i&&n&&"!xml"!==i.tagname&&(n=this.saveTextToParentTag(n,i,s,!1));const f=i;f&&-1!==this.options.unpairedTags.indexOf(f.tagname)&&(i=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),a!==e.tagname&&(s+=s?"."+a:a);const p=o;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,s,a)){let e="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)"/"===a[a.length-1]?(a=a.substr(0,a.length-1),s=s.substr(0,s.length-1),u=a):u=u.substr(0,u.length-1),o=r.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(a))o=r.closeIndex;else{const i=this.readStopNodeData(t,c,d+1);if(!i)throw new Error(`Unexpected end of ${c}`);o=i.i,e=i.tagContent}const n=new ce(a);a!==u&&l&&(n[":@"]=this.buildAttributesMap(u,s)),e&&(e=this.parseTextData(e,a,s,!0,l,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),n.add(this.options.textNodeName,e),this.addChild(i,n,s,p)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){if("/"===a[a.length-1]?(a=a.substr(0,a.length-1),s=s.substr(0,s.length-1),u=a):u=u.substr(0,u.length-1),this.options.transformTagName){const t=this.options.transformTagName(a);u===a&&(u=t),a=t}const t=new ce(a);a!==u&&l&&(t[":@"]=this.buildAttributesMap(u,s)),this.addChild(i,t,s,p),s=s.substr(0,s.lastIndexOf("."))}else{const t=new ce(a);this.tagsNodeStack.push(i),a!==u&&l&&(t[":@"]=this.buildAttributesMap(u,s)),this.addChild(i,t,s,p),i=t}n="",o=d}}else n+=t[o]}return e.child};function Ae(t,e,i,n){this.options.captureMetaData||(n=void 0);const s=this.options.updateTag(e.tagname,i,e[":@"]);!1===s||("string"==typeof s?(e.tagname=s,t.addChild(e,n)):t.addChild(e,n))}const Pe=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const i=this.docTypeEntities[e];t=t.replace(i.regx,i.val)}for(let e in this.lastEntities){const i=this.lastEntities[e];t=t.replace(i.regex,i.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const i=this.htmlEntities[e];t=t.replace(i.regex,i.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function Te(t,e,i,n){return t&&(void 0===n&&(n=0===e.child.length),void 0!==(t=this.parseTextData(t,e.tagname,i,!1,!!e[":@"]&&0!==Object.keys(e[":@"]).length,n))&&""!==t&&e.add(this.options.textNodeName,t),t=""),t}function $e(t,e,i,n){return!(!e||!e.has(n))||!(!t||!t.has(i))}function De(t,e,i,n){const s=t.indexOf(e,i);if(-1===s)throw new Error(n);return s+e.length-1}function Re(t,e,i,n=">"){const s=function(t,e,i=">"){let n,s="";for(let r=e;r<t.length;r++){let e=t[r];if(n)e===n&&(n="");else if('"'===e||"'"===e)n=e;else if(e===i[0]){if(!i[1])return{data:s,index:r};if(t[r+1]===i[1])return{data:s,index:r}}else"\t"===e&&(e=" ");s+=e}}(t,e+1,n);if(!s)return;let r=s.data;const o=s.index,a=r.search(/\s/);let c=r,u=!0;-1!==a&&(c=r.substring(0,a),r=r.substring(a+1).trimStart());const l=c;if(i){const t=c.indexOf(":");-1!==t&&(c=c.substr(t+1),u=c!==s.data.substr(t+1))}return{tagName:c,tagExp:r,closeIndex:o,attrExpPresent:u,rawTagName:l}}function Ne(t,e,i){const n=i;let s=1;for(;i<t.length;i++)if("<"===t[i])if("/"===t[i+1]){const r=De(t,">",i,`${e} is not closed`);if(t.substring(i+2,r).trim()===e&&(s--,0===s))return{tagContent:t.substring(n,i),i:r};i=r}else if("?"===t[i+1]){i=De(t,"?>",i+1,"StopNode is not closed.")}else if("!--"===t.substr(i+1,3)){i=De(t,"--\x3e",i+3,"StopNode is not closed.")}else if("!["===t.substr(i+1,2)){i=De(t,"]]>",i,"StopNode is not closed.")-2}else{const n=Re(t,i,">");if(n){(n&&n.tagName)===e&&"/"!==n.tagExp[n.tagExp.length-1]&&s++,i=n.closeIndex}}}function ke(t,e,i){if(e&&"string"==typeof t){const e=t.trim();return"true"===e||"false"!==e&&me(t,i)}return function(t){return void 0!==t}(t)?t:""}function Ce(t,e,i){const n=Number.parseInt(t,e);return n>=0&&n<=1114111?String.fromCodePoint(n):i+t+";"}const Oe=ce.getMetaDataSymbol();function Fe(t,e){return Ue(t,e)}function Ue(t,e,i){let n;const s={};for(let r=0;r<t.length;r++){const o=t[r],a=Me(o);let c="";if(c=void 0===i?a:i+"."+a,a===e.textNodeName)void 0===n?n=o[a]:n+=""+o[a];else{if(void 0===a)continue;if(o[a]){let t=Ue(o[a],e,c);const i=_e(t,e);void 0!==o[Oe]&&(t[Oe]=o[Oe]),o[":@"]?je(t,o[":@"],c,e):1!==Object.keys(t).length||void 0===t[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(t).length&&(e.alwaysCreateTextNode?t[e.textNodeName]="":t=""):t=t[e.textNodeName],void 0!==s[a]&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(t)):e.isArray(a,c,i)?s[a]=[t]:s[a]=t}}}return"string"==typeof n?n.length>0&&(s[e.textNodeName]=n):void 0!==n&&(s[e.textNodeName]=n),s}function Me(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const i=e[t];if(":@"!==i)return i}}function je(t,e,i,n){if(e){const s=Object.keys(e),r=s.length;for(let o=0;o<r;o++){const r=s[o];n.isArray(r,i+"."+r,!0,!0)?t[r]=[e[r]]:t[r]=e[r]}}}function _e(t,e){const{textNodeName:i}=e,n=Object.keys(t).length;return 0===n||!(1!==n||!t[i]&&"boolean"!=typeof t[i]&&0!==t[i])}const We={allowBooleanAttributes:!1,unpairedTags:[]};function Le(t){return" "===t||"\t"===t||"\n"===t||"\r"===t}function ze(t,e){const i=e;for(;e<t.length;e++)if("?"==t[e]||" "==t[e]){const n=t.substr(i,e-i);if(e>5&&"xml"===n)return Ye("InvalidXml","XML declaration allowed only at the start of the document.",Je(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}continue}return e}function Ge(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let i=1;for(e+=8;e<t.length;e++)if("<"===t[e])i++;else if(">"===t[e]&&(i--,0===i))break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}function Ve(t,e){let i="",n="",s=!1;for(;e<t.length;e++){if('"'===t[e]||"'"===t[e])""===n?n=t[e]:n!==t[e]||(n="");else if(">"===t[e]&&""===n){s=!0;break}i+=t[e]}return""===n&&{value:i,index:e,tagClosed:s}}const Be=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function qe(t,e){const i=re(t,Be),n={};for(let t=0;t<i.length;t++){if(0===i[t][1].length)return Ye("InvalidAttr","Attribute '"+i[t][2]+"' has no space in starting.",Xe(i[t]));if(void 0!==i[t][3]&&void 0===i[t][4])return Ye("InvalidAttr","Attribute '"+i[t][2]+"' is without value.",Xe(i[t]));if(void 0===i[t][3]&&!e.allowBooleanAttributes)return Ye("InvalidAttr","boolean attribute '"+i[t][2]+"' is not allowed.",Xe(i[t]));const s=i[t][2];if(!He(s))return Ye("InvalidAttr","Attribute '"+s+"' is an invalid name.",Xe(i[t]));if(n.hasOwnProperty(s))return Ye("InvalidAttr","Attribute '"+s+"' is repeated.",Xe(i[t]));n[s]=1}return!0}function Ke(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let i=/\d/;for("x"===t[e]&&(e++,i=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(i))break}return-1}(t,++e);let i=0;for(;e<t.length;e++,i++)if(!(t[e].match(/\w/)&&i<20)){if(";"===t[e])break;return-1}return e}function Ye(t,e,i){return{err:{code:t,msg:e,line:i.line||i,col:i.col}}}function He(t){return oe(t)}function Qe(t){return oe(t)}function Je(t,e){const i=t.substring(0,e).split(/\r?\n/);return{line:i.length,col:i[i.length-1].length+1}}function Xe(t){return t.startIndex+t[1].length}const Ze=new class{constructor(t){this.externalEntities={},this.options=function(t){return Object.assign({},ie,t)}(t)}parse(t,e){if("string"!=typeof t&&t.toString)t=t.toString();else if("string"!=typeof t)throw new Error("XML data is accepted in String or Bytes[] form.");if(e){!0===e&&(e={});const i=function(t,e){e=Object.assign({},We,e);const i=[];let n=!1,s=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let r=0;r<t.length;r++)if("<"===t[r]&&"?"===t[r+1]){if(r+=2,r=ze(t,r),r.err)return r}else{if("<"!==t[r]){if(Le(t[r]))continue;return Ye("InvalidChar","char '"+t[r]+"' is not expected.",Je(t,r))}{let o=r;if(r++,"!"===t[r]){r=Ge(t,r);continue}{let a=!1;"/"===t[r]&&(a=!0,r++);let c="";for(;r<t.length&&">"!==t[r]&&" "!==t[r]&&"\t"!==t[r]&&"\n"!==t[r]&&"\r"!==t[r];r++)c+=t[r];if(c=c.trim(),"/"===c[c.length-1]&&(c=c.substring(0,c.length-1),r--),!Qe(c)){let e;return e=0===c.trim().length?"Invalid space after '<'.":"Tag '"+c+"' is an invalid name.",Ye("InvalidTag",e,Je(t,r))}const u=Ve(t,r);if(!1===u)return Ye("InvalidAttr","Attributes for '"+c+"' have open quote.",Je(t,r));let l=u.value;if(r=u.index,"/"===l[l.length-1]){const i=r-l.length;l=l.substring(0,l.length-1);const s=qe(l,e);if(!0!==s)return Ye(s.err.code,s.err.msg,Je(t,i+s.err.line));n=!0}else if(a){if(!u.tagClosed)return Ye("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Je(t,r));if(l.trim().length>0)return Ye("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Je(t,o));if(0===i.length)return Ye("InvalidTag","Closing tag '"+c+"' has not been opened.",Je(t,o));{const e=i.pop();if(c!==e.tagName){let i=Je(t,e.tagStartPos);return Ye("InvalidTag","Expected closing tag '"+e.tagName+"' (opened in line "+i.line+", col "+i.col+") instead of closing tag '"+c+"'.",Je(t,o))}0==i.length&&(s=!0)}}else{const a=qe(l,e);if(!0!==a)return Ye(a.err.code,a.err.msg,Je(t,r-l.length+a.err.line));if(!0===s)return Ye("InvalidXml","Multiple possible root nodes found.",Je(t,r));-1!==e.unpairedTags.indexOf(c)||i.push({tagName:c,tagStartPos:o}),n=!0}for(r++;r<t.length;r++)if("<"===t[r]){if("!"===t[r+1]){r++,r=Ge(t,r);continue}if("?"!==t[r+1])break;if(r=ze(t,++r),r.err)return r}else if("&"===t[r]){const e=Ke(t,r);if(-1==e)return Ye("InvalidChar","char '&' is not expected.",Je(t,r));r=e}else if(!0===s&&!Le(t[r]))return Ye("InvalidXml","Extra text at the end",Je(t,r));"<"===t[r]&&r--}}}return n?1==i.length?Ye("InvalidTag","Unclosed tag '"+i[0].tagName+"'.",Je(t,i[0].tagStartPos)):!(i.length>0)||Ye("InvalidXml","Invalid '"+JSON.stringify(i.map(t=>t.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):Ye("InvalidXml","Start tag expected.",1)}(t,e);if(!0!==i)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}const i=new Se(this.options);i.addExternalEntities(this.externalEntities);const n=i.parseXml(t);return this.options.preserveOrder||void 0===n?n:Fe(n,this.options)}addEntity(t,e){if(-1!==e.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==t.indexOf("&")||-1!==t.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===e)throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=e}static getMetaDataSymbol(){return ce.getMetaDataSymbol()}}({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(t,e)=>""===e.trim()&&e.includes("\n")?"":void 0});Ze.addEntity("#xD","\r"),Ze.addEntity("#10","\n");var ti=i(1316);const ei=t=>{const e="#text";for(const i in t)t.hasOwnProperty(i)&&void 0!==t[i][e]?t[i]=t[i][e]:"object"==typeof t[i]&&null!==t[i]&&(t[i]=ei(t[i]));return t};var ii=i(117),ni=i(124),si=i(129);class ri extends ni.B{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new ti.k(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,e,i){const n=te.l.of(t),s=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(s).find(t=>!!t.getMemberTraits().eventPayload)){const t={},i=Object.keys(s)[0];return s[i].isBlobSchema()?t[i]=e:t[i]=this.read(s[i],e),t}const r=(this.serdeContext?.utf8Encoder??ii.P)(e),o=this.parseXml(r);return this.readSchema(t,i?o[i]:o)}readSchema(t,e){const i=te.l.of(t);if(i.isUnitSchema())return;const n=i.getMergedTraits();if(i.isListSchema()&&!Array.isArray(e))return this.readSchema(i,[e]);if(null==e)return e;if("object"==typeof e){const t=!!n.sparse,s=!!n.xmlFlattened;if(i.isListSchema()){const n=i.getValueSchema(),r=[],o=n.getMergedTraits().xmlName??"member",a=s?e:(e[0]??e)[o],c=Array.isArray(a)?a:[a];for(const e of c)(null!=e||t)&&r.push(this.readSchema(n,e));return r}const r={};if(i.isMapSchema()){const n=i.getKeySchema(),o=i.getValueSchema();let a;a=s?Array.isArray(e)?e:[e]:Array.isArray(e.entry)?e.entry:[e.entry];const c=n.getMergedTraits().xmlName??"key",u=o.getMergedTraits().xmlName??"value";for(const e of a){const i=e[c],n=e[u];(null!=n||t)&&(r[i]=this.readSchema(o,n))}return r}if(i.isStructSchema()){const t=i.isUnionSchema();let n;t&&(n=new si.F(e,r));for(const[s,o]of i.structIterator()){const i=o.getMergedTraits(),a=i.httpPayload?i.xmlName??o.getName():o.getMemberTraits().xmlName??s;t&&n.mark(a),null!=e[a]&&(r[s]=this.readSchema(o,e[a]))}return t&&n.writeUnknown(),r}if(i.isDocumentSchema())return e;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${i.getName(!0)}`)}return i.isListSchema()?[]:i.isMapSchema()||i.isStructSchema()?{}:this.stringDeserializer.read(i,e)}parseXml(t){if(t.length){let i;try{e=t,i=Ze.parse(e,!0)}catch(e){throw e&&"object"==typeof e&&Object.defineProperty(e,"$responseBodyText",{value:t}),e}const n="#text",s=Object.keys(i)[0],r=i[s];return r[n]&&(r[s]=r[n],delete r[n]),ei(r)}var e;return{}}}var oi=i(125),ai=i(1315),ci=i(79),ui=i(128),li=i(126),di=i(116);class fi extends ni.B{settings;buffer;constructor(t){super(),this.settings=t}write(t,e,i=""){void 0===this.buffer&&(this.buffer="");const n=te.l.of(t);if(i&&!i.endsWith(".")&&(i+="."),n.isBlobSchema())("string"==typeof e||e instanceof Uint8Array)&&(this.writeKey(i),this.writeValue((this.serdeContext?.base64Encoder??di.n)(e)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())null!=e?(this.writeKey(i),this.writeValue(String(e))):n.isIdempotencyToken()&&(this.writeKey(i),this.writeValue((0,ci.v4)()));else if(n.isBigIntegerSchema())null!=e&&(this.writeKey(i),this.writeValue(String(e)));else if(n.isBigDecimalSchema())null!=e&&(this.writeKey(i),this.writeValue(e instanceof ui.D?e.string:String(e)));else if(n.isTimestampSchema()){if(e instanceof Date){this.writeKey(i);switch((0,oi.V)(n,this.settings)){case 5:this.writeValue(e.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,li.JV)(e));break;case 7:this.writeValue(String(e.getTime()/1e3))}}}else if(n.isDocumentSchema())Array.isArray(e)?this.write(79,e,i):e instanceof Date?this.write(4,e,i):e instanceof Uint8Array?this.write(21,e,i):e&&"object"==typeof e?this.write(143,e,i):(this.writeKey(i),this.writeValue(String(e)));else if(n.isListSchema()){if(Array.isArray(e))if(0===e.length)this.settings.serializeEmptyLists&&(this.writeKey(i),this.writeValue(""));else{const t=n.getValueSchema(),s=this.settings.flattenLists||n.getMergedTraits().xmlFlattened;let r=1;for(const n of e){if(null==n)continue;const e=this.getKey("member",t.getMergedTraits().xmlName),o=s?`${i}${r}`:`${i}${e}.${r}`;this.write(t,n,o),++r}}}else if(n.isMapSchema()){if(e&&"object"==typeof e){const t=n.getKeySchema(),s=n.getValueSchema(),r=n.getMergedTraits().xmlFlattened;let o=1;for(const[n,a]of Object.entries(e)){if(null==a)continue;const e=this.getKey("key",t.getMergedTraits().xmlName),c=r?`${i}${o}.${e}`:`${i}entry.${o}.${e}`,u=this.getKey("value",s.getMergedTraits().xmlName),l=r?`${i}${o}.${u}`:`${i}entry.${o}.${u}`;this.write(t,n,c),this.write(s,a,l),++o}}}else if(n.isStructSchema()){if(e&&"object"==typeof e){let t=!1;for(const[s,r]of n.structIterator()){if(null==e[s]&&!r.isIdempotencyToken())continue;const n=`${i}${this.getKey(s,r.getMergedTraits().xmlName)}`;this.write(r,e[s],n),t=!0}if(!t&&n.isUnionSchema()){const{$unknown:t}=e;if(Array.isArray(t)){const[e,n]=t,s=`${i}${e}`;this.write(15,n,s)}}}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}flush(){if(void 0===this.buffer)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");const t=this.buffer;return delete this.buffer,t}getKey(t,e){const i=e??t;return this.settings.capitalizeKeys?i[0].toUpperCase()+i.slice(1):i}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${(0,ai.$)(t)}=`}writeValue(t){this.buffer+=(0,ai.$)(t)}}class pi extends Jt.M{options;serializer;deserializer;mixin=new ee.U;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;const e={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new fi(e),this.deserializer=new ri(e)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,e,i){const n=await super.serializeRequest(t,e,i);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),"unit"!==(0,Zt.L)(t.input)&&n.body||(n.body="");const s=t.name.split("#")[1]??t.name;return n.body=`Action=${s}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1)),n}async deserializeResponse(t,e,i){const n=this.deserializer,s=te.l.of(t.output),r={};if(i.statusCode>=300){const s=await(0,Xt.P)(i.body,e);s.byteLength>0&&Object.assign(r,await n.read(15,s)),await this.handleError(t,e,i,r,this.deserializeMetadata(i))}for(const t in i.headers){const e=i.headers[t];delete i.headers[t],i.headers[t.toLowerCase()]=e}const o=t.name.split("#")[1]??t.name,a=s.isStructSchema()&&this.useNestedResult()?o+"Result":void 0,c=await(0,Xt.P)(i.body,e);c.byteLength>0&&Object.assign(r,await n.read(s,c,a));return{$metadata:this.deserializeMetadata(i),...r}}useNestedResult(){return!0}async handleError(t,e,i,n,s){const r=this.loadQueryErrorCode(i,n)??"Unknown",o=this.loadQueryError(n),a=this.loadQueryErrorMessage(n);o.message=a,o.Error={Type:o.Type,Code:o.Code,Message:a};const{errorSchema:c,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(r,this.options.defaultNamespace,i,o,s,this.mixin.findQueryCompatibleError),d=te.l.of(c),f=new(l.O.for(c[1]).getErrorCtor(c)??Error)(a),p={Type:o.Error.Type,Code:o.Error.Code,Error:o.Error};for(const[t,e]of d.structIterator()){const i=e.getMergedTraits().xmlName??t,s=o[i]??n[i];p[t]=this.deserializer.readSchema(e,s)}throw this.mixin.decorateServiceException(Object.assign(f,u,{$fault:d.getMergedTraits().error,message:a},p),n)}loadQueryErrorCode(t,e){const i=(e.Errors?.[0]?.Error??e.Errors?.Error??e.Error)?.Code;return void 0!==i?i:404==t.statusCode?"NotFound":void 0}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){const e=this.loadQueryError(t);return e?.message??e?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}var hi=i(78),gi=i(72),mi=i(115),wi=i(86),Si=i(1320),Ei=i(131),bi=i(132),vi=i(43);const xi="required",yi="type",Ii="fn",Ai="argv",Pi="ref",Ti=!1,$i=!0,Di="booleanEquals",Ri="stringEquals",Ni="sigv4",ki="us-east-1",Ci="endpoint",Oi="https://sts.{Region}.{PartitionResult#dnsSuffix}",Fi="tree",Ui="error",Mi="getAttr",ji={[xi]:!1,[yi]:"string"},_i={[xi]:!0,default:!1,[yi]:"boolean"},Wi={[Pi]:"Endpoint"},Li={[Ii]:"isSet",[Ai]:[{[Pi]:"Region"}]},zi={[Pi]:"Region"},Gi={[Ii]:"aws.partition",[Ai]:[zi],assign:"PartitionResult"},Vi={[Pi]:"UseFIPS"},Bi={[Pi]:"UseDualStack"},qi={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Ni,signingName:"sts",signingRegion:ki}]},headers:{}},Ki={},Yi={conditions:[{[Ii]:Ri,[Ai]:[zi,"aws-global"]}],[Ci]:qi,[yi]:Ci},Hi={[Ii]:Di,[Ai]:[Vi,!0]},Qi={[Ii]:Di,[Ai]:[Bi,!0]},Ji={[Ii]:Mi,[Ai]:[{[Pi]:"PartitionResult"},"supportsFIPS"]},Xi={[Pi]:"PartitionResult"},Zi={[Ii]:Di,[Ai]:[!0,{[Ii]:Mi,[Ai]:[Xi,"supportsDualStack"]}]},tn=[{[Ii]:"isSet",[Ai]:[Wi]}],en=[Hi],nn=[Qi],sn={version:"1.0",parameters:{Region:ji,UseDualStack:_i,UseFIPS:_i,Endpoint:ji,UseGlobalEndpoint:_i},rules:[{conditions:[{[Ii]:Di,[Ai]:[{[Pi]:"UseGlobalEndpoint"},$i]},{[Ii]:"not",[Ai]:tn},Li,Gi,{[Ii]:Di,[Ai]:[Vi,Ti]},{[Ii]:Di,[Ai]:[Bi,Ti]}],rules:[{conditions:[{[Ii]:Ri,[Ai]:[zi,"ap-northeast-1"]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,"ap-south-1"]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,"ap-southeast-1"]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,"ap-southeast-2"]}],endpoint:qi,[yi]:Ci},Yi,{conditions:[{[Ii]:Ri,[Ai]:[zi,"ca-central-1"]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,"eu-central-1"]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,"eu-north-1"]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,"eu-west-1"]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,"eu-west-2"]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,"eu-west-3"]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,"sa-east-1"]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,ki]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,"us-east-2"]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,"us-west-1"]}],endpoint:qi,[yi]:Ci},{conditions:[{[Ii]:Ri,[Ai]:[zi,"us-west-2"]}],endpoint:qi,[yi]:Ci},{endpoint:{url:Oi,properties:{authSchemes:[{name:Ni,signingName:"sts",signingRegion:"{Region}"}]},headers:Ki},[yi]:Ci}],[yi]:Fi},{conditions:tn,rules:[{conditions:en,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[yi]:Ui},{conditions:nn,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[yi]:Ui},{endpoint:{url:Wi,properties:Ki,headers:Ki},[yi]:Ci}],[yi]:Fi},{conditions:[Li],rules:[{conditions:[Gi],rules:[{conditions:[Hi,Qi],rules:[{conditions:[{[Ii]:Di,[Ai]:[$i,Ji]},Zi],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ki,headers:Ki},[yi]:Ci}],[yi]:Fi},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[yi]:Ui}],[yi]:Fi},{conditions:en,rules:[{conditions:[{[Ii]:Di,[Ai]:[Ji,$i]}],rules:[{conditions:[{[Ii]:Ri,[Ai]:[{[Ii]:Mi,[Ai]:[Xi,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ki,headers:Ki},[yi]:Ci},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ki,headers:Ki},[yi]:Ci}],[yi]:Fi},{error:"FIPS is enabled but this partition does not support FIPS",[yi]:Ui}],[yi]:Fi},{conditions:nn,rules:[{conditions:[Zi],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ki,headers:Ki},[yi]:Ci}],[yi]:Fi},{error:"DualStack is enabled but this partition does not support DualStack",[yi]:Ui}],[yi]:Fi},Yi,{endpoint:{url:Oi,properties:Ki,headers:Ki},[yi]:Ci}],[yi]:Fi}],[yi]:Fi},{error:"Invalid Configuration: Missing Region",[yi]:Ui}]},rn=new Ei.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),on=(t,e={})=>rn.get(t,()=>(0,bi.s)(sn,{endpointParams:t,logger:e.logger}));vi.m.aws=Si.UF;const an=t=>{(0,qt.I)(process.version);const e=(0,Ht.I)(t),i=()=>e().then(Kt.l),n=(t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??mi.E,base64Encoder:t?.base64Encoder??di.n,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??on,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??kt,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Mt.f2},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new zt.m}],logger:t?.logger??new hi.N,protocol:t?.protocol??pi,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??gi.D,utf8Decoder:t?.utf8Decoder??wi.a,utf8Encoder:t?.utf8Encoder??ii.P}))(t);(0,Ft.I)(process.version);const o={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,r.Z)(Ut.$,o),bodyLengthChecker:t?.bodyLengthChecker??Yt.n,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,jt.pf)({serviceId:n.serviceId,clientVersion:Ot.rE}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4")||(async e=>await t.credentialDefaultProvider(e?.p||{})()),signer:new Mt.f2},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new zt.m}],maxAttempts:t?.maxAttempts??(0,r.Z)(At.qs,t),region:t?.region??(0,r.Z)(s.GG,{...s.zH,...o}),requestHandler:Vt.$.create(t?.requestHandler??i),retryMode:t?.retryMode??(0,r.Z)({...At.kN,default:async()=>(await i()).retryMode||Qt.L0},t),sha256:t?.sha256??Gt.V.bind(null,"sha256"),streamCollector:t?.streamCollector??Bt.k,useDualstackEndpoint:t?.useDualstackEndpoint??(0,r.Z)(Wt.e$,o),useFipsEndpoint:t?.useFipsEndpoint??(0,r.Z)(Lt.Ko,o),userAgentAppId:t?.userAgentAppId??(0,r.Z)(_t.hV,o)}};var cn=i(133),un=i(134),ln=i(135);class dn extends Tt.K{config;constructor(...[t]){const e=an(t||{});super(e),this.initConfig=e;const i=(n=e,Object.assign(n,{useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,useGlobalEndpoint:n.useGlobalEndpoint??!1,defaultSigningName:"sts"}));var n;const s=(0,mt.D)(i),r=(0,At.$z)(s),o=(0,St.T)(r),a=(0,pt.OV)(o),c=(0,It.C)(a),u=((t,e)=>{const i=Object.assign((0,cn.R)(t),(0,ln.xA)(t),(0,un.e)(t),(t=>{const e=t.httpAuthSchemes;let i=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(t){const i=e.findIndex(e=>e.schemeId===t.schemeId);-1===i?e.push(t):e.splice(i,1,t)},httpAuthSchemes:()=>e,setHttpAuthSchemeProvider(t){i=t},httpAuthSchemeProvider:()=>i,setCredentials(t){n=t},credentials:()=>n}})(t));return e.forEach(t=>t.configure(i)),Object.assign(t,(0,cn.$)(i),(0,ln.uv)(i),(0,un.j)(i),{httpAuthSchemes:(n=i).httpAuthSchemes(),httpAuthSchemeProvider:n.httpAuthSchemeProvider(),credentials:n.credentials()});var n})(Ct(c),t?.extensions||[]);this.config=u,this.middlewareStack.use((0,xt.wq)(this.config)),this.middlewareStack.use((0,wt.sM)(this.config)),this.middlewareStack.use((0,Pt.ey)(this.config)),this.middlewareStack.use((0,yt.vK)(this.config)),this.middlewareStack.use((0,pt.TC)(this.config)),this.middlewareStack.use((0,ht.Y7)(this.config)),this.middlewareStack.use((0,gt.n)(this.config)),this.middlewareStack.use((0,Et.w)(this.config,{httpAuthSchemeParametersProvider:Nt,identityProviderConfigProvider:async t=>new bt.h({"aws.auth#sigv4":t.credentials})})),this.middlewareStack.use((0,vt.l)(this.config))}destroy(){super.destroy()}}const fn=(t,e)=>e?class extends t{constructor(t){super(t);for(const t of e)this.middlewareStack.use(t)}}:t,pn=(t={},e)=>lt(t,fn(dn,e)),hn=(t={},e)=>dt(t,fn(dn,e))},1320(t,e,i){i.d(e,{UF:()=>c});var n=i(43),s=i(44),r=i(45);const o=(t,e=!1)=>{if(e){for(const e of t.split("."))if(!o(e))return!1;return!0}return!!(0,s.X)(t)&&(!(t.length<3||t.length>63)&&(t===t.toLowerCase()&&!(0,r.o)(t)))};let a=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-east-2":{"description":"Asia Pacific (Taipei)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-6":{"description":"Asia Pacific (New Zealand)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"aws global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"aws-cn global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"api.amazonwebservices.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"AWS European Sovereign Cloud (Germany)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"api.aws.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"aws-iso global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"api.aws.scloud","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"aws-iso-b global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"},"us-isob-west-1":{"description":"US ISOB West"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"api.cloud-aws.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"aws-iso-e global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"api.aws.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"aws-iso-f global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"aws-us-gov global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}}],"version":"1.1"}');const c={isVirtualHostableS3Bucket:o,parseArn:t=>{const e=t.split(":");if(e.length<6)return null;const[i,n,s,r,o,...a]=e;if("arn"!==i||""===n||""===s||""===a.join(":"))return null;return{partition:n,service:s,region:r,accountId:o,resourceId:a.map(t=>t.split("/")).flat()}},partition:t=>{const{partitions:e}=a;for(const i of e){const{regions:e,outputs:n}=i;for(const[i,s]of Object.entries(e))if(i===t)return{...n,...s}}for(const i of e){const{regionRegex:e,outputs:n}=i;if(new RegExp(e).test(t))return{...n}}const i=e.find(t=>"aws"===t.id);if(!i)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...i.outputs}}};n.m.aws=c},1315(t,e,i){function n(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}i.d(e,{$:()=>n})},1316(t,e,i){i.d(e,{k:()=>x});var n=i(111),s=i(1314);const r="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",o="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",a="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",c="(\\d?\\d)",u="(\\d{4})",l=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),d=new RegExp(`^${r}, ${c} ${o} ${u} ${a} GMT$`),f=new RegExp(`^${r}, ${c}-${o}-(\\d\\d) ${a} GMT$`),p=new RegExp(`^${r} ${o} ( [1-9]|\\d\\d) ${a} ${u}$`),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function g(t,e,i){const n=Number(t);if(n<e||n>i)throw new Error(`Value ${n} out of range [${e}, ${i}]`)}var m=i(127),w=i(128),S=i(115),E=i(117),b=i(120),v=i(125);class x extends b.f{settings;constructor(t){super(),this.settings=t}read(t,e){const i=n.l.of(t);if(i.isListSchema())return(0,s.G)(e).map(t=>this.read(i.getValueSchema(),t));if(i.isBlobSchema())return(this.serdeContext?.base64Decoder??S.E)(e);if(i.isTimestampSchema()){switch((0,v.V)(i,this.settings)){case 5:return(t=>{if(null==t)return;if("string"!=typeof t)throw new TypeError("RFC3339 timestamps must be strings");const e=l.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);const[,i,n,s,r,o,a,,c,u]=e;g(n,1,12),g(s,1,31),g(r,0,23),g(o,0,59),g(a,0,60);const d=new Date(Date.UTC(Number(i),Number(n)-1,Number(s),Number(r),Number(o),Number(a),Number(c)?Math.round(1e3*parseFloat(`0.${c}`)):0));if(d.setUTCFullYear(Number(i)),"Z"!=u.toUpperCase()){const[,t,e,i]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],n="-"===t?1:-1;d.setTime(d.getTime()+n*(60*Number(e)*60*1e3+60*Number(i)*1e3))}return d})(e);case 6:return(t=>{if(null==t)return;if("string"!=typeof t)throw new TypeError("RFC7231 timestamps must be strings.");let e,i,n,s,r,o,a,c;if((c=d.exec(t))?[,e,i,n,s,r,o,a]=c:(c=f.exec(t))?([,e,i,n,s,r,o,a]=c,n=(Number(n)+1900).toString()):(c=p.exec(t))&&([,i,e,s,r,o,a,n]=c),n&&o){const t=Date.UTC(Number(n),h.indexOf(i),Number(e),Number(s),Number(r),Number(o),a?Math.round(1e3*parseFloat(`0.${a}`)):0);g(e,1,31),g(s,0,23),g(r,0,59),g(o,0,60);const c=new Date(t);return c.setUTCFullYear(Number(n)),c}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)})(e);case 7:return(t=>{if(null==t)return;let e=NaN;if("number"==typeof t)e=t;else if("string"==typeof t){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else"object"==typeof t&&1===t.tag&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(1e3*e))})(e);default:return new Date(e)}}if(i.isStringSchema()){const t=i.getMergedTraits().mediaType;let n=e;if(t){i.getMergedTraits().httpHeader&&(n=this.base64ToUtf8(n));return("application/json"===t||t.endsWith("+json"))&&(n=m.A.from(n)),n}}return i.isNumericSchema()?Number(e):i.isBigIntegerSchema()?BigInt(e):i.isBigDecimalSchema()?new w.D(e,"bigDecimal"):i.isBooleanSchema()?"true"===String(e).toLowerCase():e}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??E.P)((this.serdeContext?.base64Decoder??S.E)(t))}}},1314(t,e,i){i.d(e,{G:()=>n});const n=t=>{const e=t.length,i=[];let n,s=!1,r=0;for(let o=0;o<e;++o){const e=t[o];switch(e){case'"':"\\"!==n&&(s=!s);break;case",":s||(i.push(t.slice(r,o)),r=o+1)}n=e}return i.push(t.slice(r)),i.map(t=>{const e=(t=t.trim()).length;return e<2?t:('"'===t[0]&&'"'===t[e-1]&&(t=t.slice(1,e-1)),t.replace(/\\"/g,'"'))})}},1317(t,e,i){i.d(e,{m:()=>n});class n{async sign(t,e,i){return t}}},1319(t){t.exports={rE:"3.985.0"}}};