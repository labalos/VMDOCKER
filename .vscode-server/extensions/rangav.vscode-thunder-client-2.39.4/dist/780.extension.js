"use strict";exports.id=780,exports.ids=[780],exports.modules={1323(e,t,s){s.d(t,{CreateOAuth2TokenCommand:()=>vt,SigninClient:()=>Ce});var i=s(36),o=s(38),n=s(39),r=s(40),a=s(42),u=s(46),c=s(48),p=s(47),d=s(51),l=s(52),g=s(54),h=s(55),S=s(73),f=s(77),m=s(80),w=s(82),v=s(49),b=s(56);const P=async(e,t,s)=>({operation:(0,v.u)(t).operation,region:await(0,b.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const x=e=>{const t=[];if("CreateOAuth2Token"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e));return t},y={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var k=s(1319),A=s(90),E=s(91),I=s(93),R=s(95),D=s(96),O=s(97),C=s(100),T=s(101),U=s(58),F=s(102),$=s(103),z=s(105),M=s(104),j=s(106),G=s(108),W=s(74),q=s(109),H=s(1313),N=s(1317),V=s(78),B=s(72),K=s(115),J=s(116),L=s(86),Z=s(117),Q=s(1320),X=s(131),Y=s(132),_=s(43);const ee="required",te="fn",se="argv",ie="ref",oe=!0,ne="isSet",re="booleanEquals",ae="error",ue="endpoint",ce="tree",pe="PartitionResult",de="stringEquals",le={[ee]:!0,default:!1,type:"boolean"},ge={[ee]:!1,type:"string"},he={[ie]:"Endpoint"},Se={[te]:re,[se]:[{[ie]:"UseFIPS"},!0]},fe={[te]:re,[se]:[{[ie]:"UseDualStack"},!0]},me={},we={[te]:"getAttr",[se]:[{[ie]:pe},"name"]},ve={[te]:re,[se]:[{[ie]:"UseFIPS"},!1]},be={[te]:re,[se]:[{[ie]:"UseDualStack"},!1]},Pe={[te]:"getAttr",[se]:[{[ie]:pe},"supportsFIPS"]},xe={[te]:re,[se]:[!0,{[te]:"getAttr",[se]:[{[ie]:pe},"supportsDualStack"]}]},ye=[{[ie]:"Region"}],ke={version:"1.0",parameters:{UseDualStack:le,UseFIPS:le,Endpoint:ge,Region:ge},rules:[{conditions:[{[te]:ne,[se]:[he]}],rules:[{conditions:[Se],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ae},{rules:[{conditions:[fe],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ae},{endpoint:{url:he,properties:me,headers:me},type:ue}],type:ce}],type:ce},{rules:[{conditions:[{[te]:ne,[se]:ye}],rules:[{conditions:[{[te]:"aws.partition",[se]:ye,assign:pe}],rules:[{conditions:[{[te]:de,[se]:[we,"aws"]},ve,be],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:me,headers:me},type:ue},{conditions:[{[te]:de,[se]:[we,"aws-cn"]},ve,be],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:me,headers:me},type:ue},{conditions:[{[te]:de,[se]:[we,"aws-us-gov"]},ve,be],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:me,headers:me},type:ue},{conditions:[Se,fe],rules:[{conditions:[{[te]:re,[se]:[oe,Pe]},xe],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:me,headers:me},type:ue}],type:ce},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ae}],type:ce},{conditions:[Se,be],rules:[{conditions:[{[te]:re,[se]:[Pe,oe]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:me,headers:me},type:ue}],type:ce},{error:"FIPS is enabled but this partition does not support FIPS",type:ae}],type:ce},{conditions:[ve,fe],rules:[{conditions:[xe],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:me,headers:me},type:ue}],type:ce},{error:"DualStack is enabled but this partition does not support DualStack",type:ae}],type:ce},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:me,headers:me},type:ue}],type:ce}],type:ce},{error:"Invalid Configuration: Missing Region",type:ae}],type:ce}]},Ae=new X.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Ee=(e,t={})=>Ae.get(e,()=>(0,Y.s)(ke,{endpointParams:e,logger:t.logger}));_.m.aws=Q.UF;const Ie=e=>{(0,z.I)(process.version);const t=(0,G.I)(e),s=()=>t().then(M.l),i=(e=>({apiVersion:"2023-01-01",base64Decoder:e?.base64Decoder??K.E,base64Encoder:e?.base64Encoder??J.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Ee,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??x,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new q.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new N.m}],logger:e?.logger??new V.N,protocol:e?.protocol??H.Y,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:e?.serviceId??"Signin",urlParser:e?.urlParser??B.D,utf8Decoder:e?.utf8Decoder??L.a,utf8Encoder:e?.utf8Encoder??Z.P}))(e);(0,A.I)(process.version);const o={profile:e?.profile,logger:i.logger};return{...i,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,U.Z)(E.$,o),bodyLengthChecker:e?.bodyLengthChecker??j.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,I.pf)({serviceId:i.serviceId,clientVersion:k.rE}),maxAttempts:e?.maxAttempts??(0,U.Z)(S.qs,e),region:e?.region??(0,U.Z)(D.GG,{...D.zH,...o}),requestHandler:F.$.create(e?.requestHandler??s),retryMode:e?.retryMode??(0,U.Z)({...S.kN,default:async()=>(await s()).retryMode||W.L0},e),sha256:e?.sha256??T.V.bind(null,"sha256"),streamCollector:e?.streamCollector??$.k,useDualstackEndpoint:e?.useDualstackEndpoint??(0,U.Z)(O.e$,o),useFipsEndpoint:e?.useFipsEndpoint??(0,U.Z)(C.Ko,o),userAgentAppId:e?.userAgentAppId??(0,U.Z)(R.hV,o)}};var Re=s(133),De=s(134),Oe=s(135);class Ce extends m.K{config;constructor(...[e]){const t=Ie(e||{});super(t),this.initConfig=t;const s=(m=t,Object.assign(m,{useDualstackEndpoint:m.useDualstackEndpoint??!1,useFipsEndpoint:m.useFipsEndpoint??!1,defaultSigningName:"signin"}));var m;const v=(0,r.D)(s),x=(0,S.$z)(v),y=(0,u.T)(x),k=(0,i.OV)(y),A=((e,t)=>{const s=Object.assign((0,Re.R)(e),(0,Oe.xA)(e),(0,De.e)(e),(e=>{const t=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,i=e.credentials;return{setHttpAuthScheme(e){const s=t.findIndex(t=>t.schemeId===e.schemeId);-1===s?t.push(e):t.splice(s,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){s=e},httpAuthSchemeProvider:()=>s,setCredentials(e){i=e},credentials:()=>i}})(e));return t.forEach(e=>e.configure(s)),Object.assign(e,(0,Re.$)(s),(0,Oe.uv)(s),(0,De.j)(s),{httpAuthSchemes:(i=s).httpAuthSchemes(),httpAuthSchemeProvider:i.httpAuthSchemeProvider(),credentials:i.credentials()});var i})((e=>{const t=(0,w.h)(e);return Object.assign(t,{authSchemePreference:(0,b.t)(e.authSchemePreference??[])})})((0,h.C)(k)),e?.extensions||[]);this.config=A,this.middlewareStack.use((0,l.wq)(this.config)),this.middlewareStack.use((0,a.sM)(this.config)),this.middlewareStack.use((0,f.ey)(this.config)),this.middlewareStack.use((0,g.vK)(this.config)),this.middlewareStack.use((0,i.TC)(this.config)),this.middlewareStack.use((0,o.Y7)(this.config)),this.middlewareStack.use((0,n.n)(this.config)),this.middlewareStack.use((0,c.w)(this.config,{httpAuthSchemeParametersProvider:P,identityProviderConfigProvider:async e=>new p.h({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,d.l)(this.config))}destroy(){super.destroy()}}var Te=s(136),Ue=s(137),Fe=s(119),$e=s(122);class ze extends $e.T{constructor(e){super(e),Object.setPrototypeOf(this,ze.prototype)}}class Me extends ze{name="AccessDeniedException";$fault="client";error;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,Me.prototype),this.error=e.error}}class je extends ze{name="InternalServerException";$fault="server";error;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,je.prototype),this.error=e.error}}class Ge extends ze{name="TooManyRequestsError";$fault="client";error;constructor(e){super({name:"TooManyRequestsError",$fault:"client",...e}),Object.setPrototypeOf(this,Ge.prototype),this.error=e.error}}class We extends ze{name="ValidationException";$fault="client";error;constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,We.prototype),this.error=e.error}}const qe="accessKeyId",He="accessToken",Ne="client",Ve="clientId",Be="codeVerifier",Ke="error",Je="expiresIn",Le="grantType",Ze="http",Qe="httpError",Xe="idToken",Ye="jsonName",_e="message",et="refreshToken",tt="redirectUri",st="secretAccessKey",it="sessionToken",ot="smithy.ts.sdk.synthetic.com.amazonaws.signin",nt="tokenType",rt="com.amazonaws.signin";var at=[0,rt,"RefreshToken",8,0],ut=[-3,rt,"AccessDeniedException",{[Ke]:Ne},[Ke,_e],[0,0],2];Fe.O.for(rt).registerError(ut,Me);var ct=[3,rt,"AccessToken",8,[qe,st,it],[[0,{[Ye]:qe}],[0,{[Ye]:st}],[0,{[Ye]:it}]],3],pt=[3,rt,"CreateOAuth2TokenRequest",0,["tokenInput"],[[()=>dt,16]],1],dt=[3,rt,"CreateOAuth2TokenRequestBody",0,[Ve,Le,"code",tt,Be,et],[[0,{[Ye]:Ve}],[0,{[Ye]:Le}],0,[0,{[Ye]:tt}],[0,{[Ye]:Be}],[()=>at,{[Ye]:et}]],2],lt=[3,rt,"CreateOAuth2TokenResponse",0,["tokenOutput"],[[()=>gt,16]],1],gt=[3,rt,"CreateOAuth2TokenResponseBody",0,[He,nt,Je,et,Xe],[[()=>ct,{[Ye]:He}],[0,{[Ye]:nt}],[1,{[Ye]:Je}],[()=>at,{[Ye]:et}],[0,{[Ye]:Xe}]],4],ht=[-3,rt,"InternalServerException",{[Ke]:"server",[Qe]:500},[Ke,_e],[0,0],2];Fe.O.for(rt).registerError(ht,je);var St=[-3,rt,"TooManyRequestsError",{[Ke]:Ne,[Qe]:429},[Ke,_e],[0,0],2];Fe.O.for(rt).registerError(St,Ge);var ft=[-3,rt,"ValidationException",{[Ke]:Ne,[Qe]:400},[Ke,_e],[0,0],2];Fe.O.for(rt).registerError(ft,We);var mt=[-3,ot,"SigninServiceException",0,[],[]];Fe.O.for(ot).registerError(mt,ze);var wt=[9,rt,"CreateOAuth2Token",{[Ze]:["POST","/v1/token",200]},()=>pt,()=>lt];class vt extends(Ue.u.classBuilder().ep(y).m(function(e,t,s,i){return[(0,Te.r)(s,e.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(wt).build()){}},1320(e,t,s){s.d(t,{UF:()=>u});var i=s(43),o=s(44),n=s(45);const r=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!r(t))return!1;return!0}return!!(0,o.X)(e)&&(!(e.length<3||e.length>63)&&(e===e.toLowerCase()&&!(0,n.o)(e)))};let a=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-east-2":{"description":"Asia Pacific (Taipei)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-6":{"description":"Asia Pacific (New Zealand)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"aws global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"aws-cn global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"api.amazonwebservices.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"AWS European Sovereign Cloud (Germany)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"api.aws.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"aws-iso global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"api.aws.scloud","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"aws-iso-b global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"},"us-isob-west-1":{"description":"US ISOB West"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"api.cloud-aws.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"aws-iso-e global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"api.aws.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"aws-iso-f global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"aws-us-gov global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}}],"version":"1.1"}');const u={isVirtualHostableS3Bucket:r,parseArn:e=>{const t=e.split(":");if(t.length<6)return null;const[s,i,o,n,r,...a]=t;if("arn"!==s||""===i||""===o||""===a.join(":"))return null;return{partition:i,service:o,region:n,accountId:r,resourceId:a.map(e=>e.split("/")).flat()}},partition:e=>{const{partitions:t}=a;for(const s of t){const{regions:t,outputs:i}=s;for(const[s,o]of Object.entries(t))if(s===e)return{...i,...o}}for(const s of t){const{regionRegex:t,outputs:i}=s;if(new RegExp(t).test(e))return{...i}}const s=t.find(e=>"aws"===e.id);if(!s)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...s.outputs}}};i.m.aws=u},1319(e){e.exports={rE:"3.985.0"}}};